(function(e){function t(t){for(var a,o,s=t[0],c=t[1],u=t[2],l=0,m=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={anew:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=c;i.push([1,"chunk-vendors","chunk-common"]),n()})({1:function(e,t,n){e.exports=n("fbda")},"1d1e":function(e,t,n){},"2ae8":function(e,t,n){"use strict";n("3a8f")},"3a8f":function(e,t,n){},"476a":function(e,t,n){},7501:function(e,t,n){"use strict";n("1d1e")},"80b1":function(e,t,n){},a28f:function(e,t,n){"use strict";n("476a")},bab3:function(e,t,n){e.exports=n.p+"img/white-round-add-button.87a1cae3.png"},c959:function(e,t,n){"use strict";n("80b1")},d05f:function(e,t,n){},fbc6:function(e,t,n){"use strict";n("d05f")},fbda:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("92c6"),n("4888");var a=n("2b0e"),r=n("2f62"),i=n("683f"),o=n("4360"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Title",{attrs:{title:"Anew",canDelete:"false"}}),e.isLoggedIn?e._e():n("AuthForm"),e.isLoggedIn?n("div",[e.active.media?n("Media"):e._e()],1):e._e(),n("Notification"),n("FooterBar")],1)},c=[],u=n("1da1"),d=(n("96cf"),n("159b"),n("b64b"),n("43b3")),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"auth-form"}},[n("div",{staticClass:"container"},[n("Login",{on:{authenticated:e.onAuthenticated}})],1)])},m=[],p=n("83c9"),f=n("d722"),h=n("df40"),g={name:"AuthForm",components:{Login:p["a"]},methods:{onAuthenticated:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f["a"].getAllMedia(e.$store.getters.getToken);case 3:return n=t.sent,e.$store.commit("updateMedia",n),t.next=7,f["a"].getDevices(e.$store.getters.getToken);case 7:n=t.sent,e.$store.commit("updateDevices",n),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),h["a"].setNotification("danger","Something went wrong");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}}},v=g,b=(n("c959"),n("2877")),w=Object(b["a"])(v,l,m,!1,null,"7e781562",null),y=w.exports,x=n("7039"),M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",attrs:{id:"media",gotData:""}},[n("h2",{staticClass:"is-size-4 media-header"},[e._v("Welcome To Your Collection")]),n("div",{staticClass:"media-collection"},[e.showAddPermanent?n("MediaPlaceholder",{staticClass:"media-item",attrs:{type:"permanent",index:"1",n:e.placeholderCountPermanent,nTotal:"7"}}):e._e(),e._l(e.permanentMedia,(function(e){return n("MediaItem",{key:e.id,staticClass:"media-item",attrs:{media:e}})})),e.showAddTemporary?n("MediaPlaceholder",{staticClass:"media-item",attrs:{type:"temporary",index:"1",n:e.placeholderCountTemporary,nTotal:"13"}}):e._e(),e._l(e.temporaryMedia,(function(e){return n("MediaItem",{key:e.id,staticClass:"media-item",attrs:{media:e}})}))],2)])},k=[],C=(n("4de4"),n("efac")),T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"media-item"}},[e.isTemporary?n("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoaded,expression:"isLoaded"}],staticClass:"actions-temporary"},[n("span",{staticClass:"icon action pointer",on:{click:function(t){return e.deleteMedia(e.media._id)}}},[n("i",{staticClass:"fas fa-times icon-size"})])]):e._e(),n("img",{directives:[{name:"show",rawName:"v-show",value:e.isLoaded,expression:"isLoaded"}],attrs:{src:e.imageUrl},on:{load:e.loaded}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLoaded,expression:"!isLoaded"}],staticClass:"uploading-container"},[n("button",{directives:[{name:"show",rawName:"v-show",value:!e.isLoaded,expression:"!isLoaded"}],staticClass:"button is-loading is-primary uploading-button"})])])},_=[],$=(n("99af"),{props:["media"],name:"MediaItem",data:function(){return{isLoaded:!1}},computed:{imageUrl:function(){return"".concat(f["a"].URL,"/media/").concat(this.media._id,"?token=").concat(this.$store.getters.getToken)},isTemporary:function(){return"temporary"==this.media.locket}},methods:{deleteMedia:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:try{t.$confirm("Do you want to remove this content?","Remove Content","",{imageUrl:t.imageUrl,imageHeight:256,confirmButtonColor:"#00d1b2"}).then(Object(u["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f["a"].deleteMedia(e,t.$store.getters.getToken);case 3:n.next=9;break;case 5:return n.prev=5,n.t0=n["catch"](0),h["a"].setNotification("danger","Could not delete media"),n.abrupt("return");case 9:t.$store.commit("removeMedia",e);case 10:case"end":return n.stop()}}),n,null,[[0,5]])}))))}catch(a){console.log(a)}case 1:case"end":return n.stop()}}),n)})))()},loaded:function(){this.isLoaded=!0}}}),O=$,j=(n("a28f"),Object(b["a"])(O,T,_,!1,null,"215f2d1b",null)),P=j.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isUploader?n("div",{attrs:{id:"media-item"}},[e.isUploading?n("div",{staticClass:"uploading-container"},[n("button",{staticClass:"button is-loading is-primary uploading-button"})]):n("div",{staticClass:"file is-boxed file-upload"},[n("img",{attrs:{src:e.imagePlus}}),n("input",{staticClass:"file-input",attrs:{type:"file",name:"file"},on:{change:e.handleFileChange}}),n("div",{staticClass:"mediaLeftCounter"},[e._v(e._s(this.n)+"/"+e._s(this.nTotal))])])]):n("div",{attrs:{id:"media-item"}},[n("img",{attrs:{src:e.imageUrl}})])},L=[],D=n("5b4d"),U=n.n(D),R=n("bab3"),N=n.n(R),S={props:["type","index","n","nTotal"],name:"MediaPlaceholder",data:function(){return{isPermanent:"permanent"==this.type,isUploader:1==this.index,isUploading:!1}},computed:{imageUrl:function(){return U.a},imagePlus:function(){return N.a}},methods:{handleFileChange:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.isUploading=!0,n.prev=1,t.file=e.target.files[0],n.next=5,f["a"].uploadMedia(e.target.files[0],{era:"past",locket:t.type,emotions:"",links:""},t.$store.getters.getToken);case 5:a=n.sent,t.file=null,t.$store.commit("addMedia",a),n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](1),h["a"].setNotification("danger","Something went wrong"),t.file=null;case 14:return n.prev=14,t.isUploading=!1,n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[1,10,14,17]])})))()}}},F=S,I=(n("2ae8"),Object(b["a"])(F,A,L,!1,null,"9a99e162",null)),E=I.exports,B={name:"Media",components:{MediaItem:P,Notification:C["a"],MediaPlaceholder:E},computed:{permanentMedia:function(){var e=this.$store.getters.getMedia.filter((function(e){return"permanent"===e.locket}));return e.sort((function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)})).reverse()},temporaryMedia:function(){var e=this.$store.getters.getMedia.filter((function(e){return"temporary"===e.locket}));return e.sort((function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)})).reverse()},gotData:function(){return this.$store.getters.gotData},showAddTemporary:function(){return this.$store.getters.gotData&&this.placeholderCountTemporary>0},showAddPermanent:function(){return this.$store.getters.gotData&&this.placeholderCountPermanent>0},placeholderCountPermanent:function(){return 7-this.permanentMedia.length},placeholderCountTemporary:function(){return 13-this.temporaryMedia.length},countPermanent:function(){return void 0!=this.permanentMedia?this.permanentMedia.length:0},countTemporary:function(){return void 0!=this.temporaryMedia?this.temporaryMedia.length:0}}},z=B,J=(n("fbc6"),Object(b["a"])(z,M,k,!1,null,"473bbe3d",null)),H=J.exports,W=n("4093"),Y={name:"app",components:{FooterBar:W["a"],Notification:C["a"],Media:H,AuthForm:y,Title:d["a"]},data:function(){return{active:{media:!0,devices:!1}}},computed:{isLoggedIn:function(){return this.$store.getters.getToken}},methods:{tabUpdate:function(e){var t=this;Object.keys(this.active).forEach((function(e){t.active[e]=!1})),this.active[e]=!0}},mounted:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=x["a"].get("authToken"),!n){t.next=22;break}return e.$store.commit("updateToken",n),t.prev=3,t.next=6,f["a"].getAllMedia(e.$store.getters.getToken);case 6:return a=t.sent,e.$store.commit("updateMedia",a),t.next=10,f["a"].getDevices(e.$store.getters.getToken);case 10:return r=t.sent,e.$store.commit("updateDevices",r),t.next=14,f["a"].getAllTags(e.$store.getters.getToken);case 14:i=t.sent,e.$store.commit("addTags",i),t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](3),console.log(t.t0),h["a"].setNotification("danger","Something went wrong");case 22:case"end":return t.stop()}}),t,null,[[3,18]])})))()}},q=Y,G=(n("7501"),Object(b["a"])(q,s,c,!1,null,null,null)),K=G.exports;a["a"].use(r["a"]),a["a"].use(i["a"]),a["a"].config.productionTip=!1,new a["a"]({store:o["a"],render:function(e){return e(K)}}).$mount("#app")}});
//# sourceMappingURL=anew.0b1033aa.js.map