(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{"046b":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"devices"}},[a("h1",{staticClass:"is-size-3"},[e._v("Your Devices")]),a("h1",{staticClass:"is-size-4"},[e._v("Register Device")]),a("p",[e._v("Add a device to display media on below. Add the device's MAC address to the text field.")]),a("div",[a("InputBar",{staticClass:"input-bar",attrs:{iconGroup:"fas",icon:"fa-plus",placeholder:"Device code"},on:{"on-submit":e.addDevice}})],1),a("h1",{staticClass:"is-size-4"},[e._v("All Devices")]),a("p",[e._v("These are all your registered devices. To remove a device press the delete button.")]),a("div",{staticClass:"all-devices"},[a("ul",{staticClass:"list"},e._l(e.getDevices,(function(t){return a("li",{staticClass:"list-item"},[e._v(e._s(t.mac)),a("a",{staticClass:"delete has-text-right",on:{click:function(a){return e.deleteDevice(t._id)}}})])})),0)])])},s=[],r=a("1da1"),i=(a("c740"),a("96cf"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"input-bar"}},[a("div",{staticClass:"field has-addons"},[a("div",{staticClass:"control text-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"input",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.value},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)},input:function(t){t.target.composing||(e.value=t.target.value)}}})]),a("div",{staticClass:"control"},[a("a",{staticClass:"button is-info is-outlined",attrs:{id:"submit-todo",disabled:e.value.length<1},on:{click:e.onSubmit}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-plus",class:[e.iconGroup,e.icon]})])])])])])}),o=[],c={name:"InputBar",props:["iconGroup","icon","placeholder"],methods:{onSubmit:function(){this.$emit("on-submit",this.value),this.value=""}},data:function(){return{value:""}}},u=c,l=a("2877"),d=Object(l["a"])(u,i,o,!1,null,"760b51a6",null),p=d.exports,f=a("d722"),g=a("efac"),h=a("df40"),m={name:"Devices",components:{Notification:g["a"],InputBar:p},data:function(){return{deviceId:""}},methods:{deleteDevice:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f["a"].deleteDevice(e,t.$store.getters.getToken);case 3:t.$store.commit("removeDevice",e),a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](0),h["a"].setNotification("danger","Device could not be deleted");case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))()},addDevice:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.$store.getters.getDevices.findIndex((function(t){return t.mac===e}))>-1,!n){a.next=4;break}return h["a"].setNotification("warning","Device already exists"),a.abrupt("return");case 4:return a.prev=4,a.next=7,f["a"].addDevice(e,t.$store.getters.getToken);case 7:s=a.sent,t.$store.commit("addDevice",s),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](4),h["a"].setNotification("danger","Device could not be added");case 14:case"end":return a.stop()}}),a,null,[[4,11]])})))()}},computed:{getDevices:function(){return this.$store.getters.getDevices}}},v=m,b=(a("8bf7"),Object(l["a"])(v,n,s,!1,null,"33535e31",null));t["a"]=b.exports},2329:function(e,t,a){},2701:function(e,t,a){},"2a3d":function(e,t,a){},3806:function(e){e.exports=JSON.parse('{"register":{"data":{"code":200,"message":"success","errors":false,"payload":{"user":{"devices":[],"media":[],"_id":"5c4f07868a727300111ef4ba","iv":"fe89db32ed3d8f21d79bb8b813af5e68","username":"username","password":"2798a5b5f39cc56fe0a808d8b681b16a5c2057fdee21340f9866e9867f86e73e","createdAt":"2019-01-28T13:45:42.445Z","updatedAt":"2019-01-28T13:45:42.445Z","__v":0},"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVjNGYwNzg2OGE3MjczMDAxMTFlZjRiYSIsInVzZXJuYW1lIjoidXNlcm5hbWUiLCJpYXQiOjE1NDg2ODMxNDIsImV4cCI6MTU0ODc2OTU0Mn0.oSpXzGJpVKxYjsH8_vliuoHQEakTiVHgXsKCGjhI7_s"}},"status":200,"statusText":"OK","headers":{"content-type":"application/json; charset=utf-8"},"config":{"transformRequest":{},"transformResponse":{},"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"},"method":"post","url":"https://ongoingness-api.openlab.ncl.ac.uk/api/auth/register","data":"{\\"username\\":\\"username\\",\\"password\\":\\"password\\"}"},"request":{"upload":{"_ownerDocument":{"location":{"href":"http://localhost/","origin":"http://localhost","protocol":"http:","host":"localhost","hostname":"localhost","port":"","pathname":"/","search":"","hash":""}}},"_registeredHandlers":{},"_eventHandlers":{}}},"authenticate":{"data":{"code":200,"message":"success","errors":false,"payload":{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVjNGYwNzg2OGE3MjczMDAxMTFlZjRiYSIsInVzZXJuYW1lIjoidXNlcm5hbWUiLCJpYXQiOjE1NDg2ODMxNDIsImV4cCI6MTU0ODc2OTU0Mn0.oSpXzGJpVKxYjsH8_vliuoHQEakTiVHgXsKCGjhI7_s"}},"status":200,"statusText":"OK","headers":{"content-type":"application/json; charset=utf-8"},"config":{"transformRequest":{},"transformResponse":{},"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"},"method":"post","url":"https://ongoingness-api.openlab.ncl.ac.uk/api/auth/authenticate","data":"{\\"username\\":\\"username\\",\\"password\\":\\"password\\"}"},"request":{"upload":{"_ownerDocument":{"location":{"href":"http://localhost/","origin":"http://localhost","protocol":"http:","host":"localhost","hostname":"localhost","port":"","pathname":"/","search":"","hash":""}}},"_registeredHandlers":{},"_eventHandlers":{}}},"get_user":{"data":{"code":200,"message":"success","errors":false,"payload":{"user":{"devices":[],"media":[],"_id":"5c4f07868a727300111ef4ba","iv":"fe89db32ed3d8f21d79bb8b813af5e68","username":"username","password":"2798a5b5f39cc56fe0a808d8b681b16a5c2057fdee21340f9866e9867f86e73e","createdAt":"2019-01-28T13:45:42.445Z","updatedAt":"2019-01-28T13:45:42.445Z","__v":0}}},"status":200,"statusText":"OK","headers":{"content-type":"application/json; charset=utf-8"},"config":{"transformRequest":{},"transformResponse":{},"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"headers":{"Accept":"application/json, text/plain, */*","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVjNGYwNzg2OGE3MjczMDAxMTFlZjRiYSIsInVzZXJuYW1lIjoidXNlcm5hbWUiLCJpYXQiOjE1NDg2ODMxNDIsImV4cCI6MTU0ODc2OTU0Mn0.oSpXzGJpVKxYjsH8_vliuoHQEakTiVHgXsKCGjhI7_s"},"method":"get","url":"https://ongoingness-api.openlab.ncl.ac.uk/api/user/me"},"request":{"upload":{"_ownerDocument":{"location":{"href":"http://localhost/","origin":"http://localhost","protocol":"http:","host":"localhost","hostname":"localhost","port":"","pathname":"/","search":"","hash":""}}},"_registeredHandlers":{},"_eventHandlers":{}}},"delete_user":{"data":{"code":200,"message":"success","errors":false,"payload":{}},"status":200,"statusText":"OK","headers":{"content-type":"application/json; charset=utf-8"},"config":{"transformRequest":{},"transformResponse":{},"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"headers":{"Accept":"application/json, text/plain, */*","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVjNGYwNzg2OGE3MjczMDAxMTFlZjRiYSIsInVzZXJuYW1lIjoidXNlcm5hbWUiLCJpYXQiOjE1NDg2ODMxNDIsImV4cCI6MTU0ODc2OTU0Mn0.oSpXzGJpVKxYjsH8_vliuoHQEakTiVHgXsKCGjhI7_s"},"method":"delete","url":"https://ongoingness-api.openlab.ncl.ac.uk/api/user/5c4f07868a727300111ef4ba"},"request":{"upload":{"_ownerDocument":{"location":{"href":"http://localhost/","origin":"http://localhost","protocol":"http:","host":"localhost","hostname":"localhost","port":"","pathname":"/","search":"","hash":""}}},"_registeredHandlers":{},"_eventHandlers":{}}},"all_media":{"data":{"code":200,"message":"success","errors":false},"status":200,"statusText":"OK","headers":{"content-type":"application/json; charset=utf-8"},"config":{"transformRequest":{},"transformResponse":{},"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"headers":{"Accept":"application/json, text/plain, */*","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVjNGYwNzg2OGE3MjczMDAxMTFlZjRiYSIsInVzZXJuYW1lIjoidXNlcm5hbWUiLCJpYXQiOjE1NDg2ODMxNDIsImV4cCI6MTU0ODc2OTU0Mn0.oSpXzGJpVKxYjsH8_vliuoHQEakTiVHgXsKCGjhI7_s"},"method":"get","url":"http://localhost:3000/api/media"},"request":{"upload":{"_ownerDocument":{"location":{"href":"http://localhost/","origin":"http://localhost","protocol":"http:","host":"localhost","hostname":"localhost","port":"","pathname":"/","search":"","hash":""}}},"_registeredHandlers":{},"_eventHandlers":{}}}}')},4093:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"footer has-text-centered",attrs:{id:"footer"}},[a("div",{staticClass:"container"},[a("h6",{staticClass:"is-size-4"},[e._v("Ongoingness")]),a("p",[e._v("Ongoingness by "),a("a",{attrs:{href:"https://www.northumbria.ac.uk"}},[e._v("Northumbria University")])]),a("p",[e._v("The software is licensed under "),a("a",{attrs:{href:"https://opensource.org/licenses/BSD-3-Clause"}},[e._v("BSD-3")]),e._v(". Checkout the "),a("a",{attrs:{href:"https://github.com/ongoingness"}},[e._v("source code")]),e._v(" on Github."),a("br"),e._v("If you have any questions about your data or wish for it to be removed, then please send an email to "),a("a",{attrs:{href:"mailto:kyle.montague@northumbria.ac.uk"}},[e._v("Kyle Montague.")])])])])}],r={name:"FooterBar"},i=r,o=(a("7547"),a("2877")),c=Object(o["a"])(i,n,s,!1,null,"58f6db18",null);t["a"]=c.exports},4360:function(e,t,a){"use strict";var n=a("2b0e"),s=a("2f62"),r={token:null},i={updateToken:function(e,t){e.token=t}},o={},c={getToken:function(e){return e.token}},u={state:r,mutations:i,actions:o,getters:c},l=(a("c740"),a("a434"),a("7db0"),a("159b"),a("a9e3"),a("99af"),{gotData:!1,media:[]}),d={updateMedia:function(e,t){e.gotData=!0,e.media=t},addMedia:function(e,t){e.gotData=!0,e.media.push(t.payload)},removeMedia:function(e,t){var a=e.media.findIndex((function(e){return e._id===t}));e.media.splice(a,1)}},p={},f={getMedia:function(e){return e.media},getMediaById:function(e){return function(t){return e.media.find((function(e){return e._id===t}))}},gotData:function(e){return e.gotData},getMediaByTimeTag:function(e){var t=[];return e.media.forEach((function(e){if("temporary"==e.locket&&e.times.length>0){var a=new Date(Number(e.times[0].value)),n=a.getMonth()+1,s=a.getDate(),r="".concat(n,"-").concat(s),i=t.some((function(t){if(t.dateId===r)return t.content.push(e),!0}));if(!i){var o={dateId:r,month:n,day:s,date:new Date(1970,n-1,s),content:[e]};t.push(o)}}})),t}},g={state:l,mutations:d,actions:p,getters:f},h={devices:[]},m={updateDevices:function(e,t){e.devices=t},addDevice:function(e,t){e.devices.push(t)},removeDevice:function(e,t){var a=e.devices.findIndex((function(e){return e._id===t}));e.devices.splice(a,1)}},v={},b={getDevices:function(e){return e.devices},getDeviceById:function(e){return function(t){return e.devices.find((function(e){return e._id===t}))}}},w={state:h,mutations:m,actions:v,getters:b},x={message:"",visible:!1,type:"info"},k={setNotificationMessage:function(e,t){e.message=t},setNotificationVisibility:function(e,t){e.visible=t},setNotificationType:function(e,t){e.type=t}},C={},y={getNotificationMessage:function(e){return e.message},getNotificationVisibility:function(e){return e.visible},getNotificationType:function(e){return e.type}},A={state:x,mutations:k,actions:C,getters:y},I={user:null},N={updateUser:function(e,t){e.user=t}},_={},R={getUser:function(e){return e.user}},j={state:I,mutations:N,actions:_,getters:R},O=(a("b0c0"),{tags:[],time_tags:[],places_tags:[],people_tags:[]}),E={addTags:function(e,t){for(var a=0;a<t.tags.length;a++)e.tags.push(t.tags[a].name);for(var n=0;n<t.time.length;n++)e.time_tags.push(t.time[n].value);for(var s=0;s<t.places.length;s++)e.places_tags.push(t.places[s].name);for(var r=0;r<t.people.length;r++)e.people_tags.push(t.people[r].name);e.tags.sort(D),e.time_tags.sort(D),e.places_tags.sort(D),e.people_tags.sort(D)}};function D(e,t){return e<t?-1:e>t?1:0}var T={},L={getTags:function(e){return e.tags},getTimeTags:function(e){return e.time_tags},getPlacesTags:function(e){return e.places_tags},getPeopleTags:function(e){return e.people_tags}},U={state:O,mutations:E,actions:T,getters:L},J={users:[]},Y={setUsers:function(e,t){e.users.length=0;for(var a=0;a<t.length;a++)e.users.push(t[a])}},V={},M={getUsers:function(e){return e.users}},F={state:J,mutations:Y,actions:V,getters:M},P=(a("caad"),a("2532"),{codes:[]}),B={addLoggingCode:function(e,t){e.codes.includes(t)||e.codes.push(t)}},S={},z={getLoggingCodes:function(e){return e.codes}},X={state:P,mutations:B,actions:S,getters:z},Q=a("1da1"),G=(a("96cf"),a("d3b7"),a("d722")),K={user:null,codes:[],from:0,to:0,logs:[],currentPage:1,lastPage:0,lastIndexAdded:0,pageRequestAmount:10,pageSize:20},H={setLogFormUser:function(e,t){e.user=t},updateLogFormCode:function(e,t){if(e.codes.includes(t)){var a=e.codes.indexOf(t);a>-1&&e.codes.splice(a,1)}else e.codes.push(t)},setLogFormFrom:function(e,t){e.from=t},setLogFormTo:function(e,t){e.to=t},setLastPage:function(e,t){e.lastPage=t},addLogPage:function(e,t){e.logs.push(t)},goToNextPage:function(e,t){if(e.currentPage!=e.lastPage&&(e.currentPage++,e.currentPage==Math.floor(e.lastIndexAdded/2)))return new Promise(function(){var a=Object(Q["a"])(regeneratorRuntime.mark((function a(n){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,G["a"].searchLogs(t,e.codes,e.user,Number(e.lastIndexAdded),Number(e.pageRequestAmount),Number(e.pageSize),e.from,e.to);case 2:if(s=a.sent,s.pages.length>0){for(r=0;r<s.pages.length;r++)null!=s.pages&&e.logs.push(s.pages[r]);e.lastIndexAdded=s.pages[s.pages.length-1].index}case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},goToPreviousPage:function(e,t){if(e.currentPage>1){e.currentPage--;for(var a=!1,n=0;n<e.logs.length&&!a;n++)a=e.logs[n].index==e.currentPage;if(!a)return new Promise(function(){var a=Object(Q["a"])(regeneratorRuntime.mark((function a(n){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,G["a"].searchLogs(t,e.codes,e.user,Number(e.currentPage),1,Number(e.pageSize),e.from,e.to);case 2:if(s=a.sent,s.pages.length>0)for(r=0;r<s.pages.length;r++)null!=s.pages&&e.logs.push(s.pages[r]);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},goToPage:function(e,t){if(t.page>0&&t.page<=e.lastPage){e.currentPage=Number(t.page);for(var a=!1,n=0;n<e.logs.length&&!a;n++)a=e.logs[n].index==t.page;if(!a)return new Promise(function(){var a=Object(Q["a"])(regeneratorRuntime.mark((function a(n){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,G["a"].searchLogs(t.token,e.codes,e.user,e.currentPage,1,Number(e.pageSize),e.from,e.to);case 2:if(s=a.sent,s.pages.length>0)for(r=0;r<s.pages.length;r++)null!=s.pages&&e.logs.push(s.pages[r]);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},setLogPageAdded:function(e,t){e.lastIndexAdded=t},resetLogs:function(e){e.logs.length=0,e.currentPage=1,e.lastPage=0}},q={},Z={getLogFormUser:function(e){return e.user},getLogFormCodes:function(e){return e.codes},getLogFormFrom:function(e){return e.from},getLogFormTo:function(e){return e.to},getCurrentLogPage:function(e){var t=e.logs.find((function(t){return t.index===e.currentPage}));return null!=t?t.logs:null},getLogPage:function(e){return function(t){var a=e.logs.find((function(e){return e.index===t}));if(null!=a)return a.logs}},getAllLogPages:function(e){return e.logs},getCurrentLogPageIndex:function(e){return e.currentPage},getLastLogPageIndex:function(e){return e.lastPage},getLogPageRequestAmount:function(e){return e.pageRequestAmount},getLogPageSize:function(e){return e.pageSize}},W={state:K,mutations:H,actions:q,getters:Z};n["a"].use(s["a"]);t["a"]=new s["a"].Store({modules:{auth:u,media:g,device:w,notification:A,user:j,tags:U,usernlogs:F,logCodes:X,log:W}})},"43b3":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"title"}},[a("section",{staticClass:"hero is-medium is-light has-text-centered"},[a("div",{staticClass:"hero-head has-text-right"},[a("div",{staticClass:"container"},[e.isLoggedIn?a("button",{staticClass:"button",on:{click:e.logout}},[e._v("Logout")]):e._e(),e.isLoggedIn&&"true"==this.canDelete?a("button",{staticClass:"button is-danger is-outlined",on:{click:e.deleteAccount}},[e._v("Delete Account")]):e._e()])]),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container"},[a("h1",{staticClass:"title"},[e._v("Ongoingness")]),a("div",[e._v(e._s(this.title))])])])])])},s=[],r=a("1da1"),i=(a("96cf"),a("7039")),o=a("d722"),c=a("df40"),u={props:["title","canDelete"],name:"Title",computed:{isLoggedIn:function(){return this.$store.getters.getToken}},methods:{logout:function(){this.$store.commit("updateToken",null),i["a"].delete()},deleteAccount:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=window.confirm("Are you sure? your data cannot be recovered"),a){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,o["a"].deleteAccount(e.$store.getters.getToken);case 6:e.$store.commit("updateToken",null),i["a"].delete(),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](3),console.log(t.t0),c["a"].setNotification("danger","Something went wrong");case 14:case"end":return t.stop()}}),t,null,[[3,10]])})))()}}},l=u,d=(a("c10b"),a("2877")),p=Object(d["a"])(l,n,s,!1,null,"e23bf520",null);t["a"]=p.exports},4888:function(e,t,a){},5212:function(e,t,a){"use strict";a("524f")},"524f":function(e,t,a){},"53af":function(e,t,a){"use strict";a("2329")},"5b4d":function(e,t){e.exports="data:image/png;base64,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"},7039:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("d4ec"),s=a("bee2"),r=(a("1276"),a("ac1f"),a("99af"),function(){function e(){Object(n["a"])(this,e)}return Object(s["a"])(e,null,[{key:"get",value:function(e){var t="; ".concat(document.cookie),a=t.split("; ".concat(e,"="));return 2===a.length?a.pop().split(";").shift():null}},{key:"delete",value:function(){document.cookie="authToken=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}},{key:"set",value:function(e){var t=new Date;t.setDate(t.getDate()+1),document.cookie="".concat(encodeURIComponent("authToken"),"=","".concat(encodeURIComponent(e),"; expires=").concat(t))}}]),e}())},7289:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"auth-form"}},[a("div",{staticClass:"container"},[e.hasAccount?a("Login",{on:{authenticated:e.onAuthenticated}}):a("Register",{on:{authenticated:e.onAuthenticated}}),e.hasAccount?a("div",[a("p",{staticClass:"switch"},[e._v("Don't have an account?")]),a("a",{on:{click:function(t){e.hasAccount=!1}}},[e._v("Register")])]):a("div",[a("p",{staticClass:"switch"},[e._v("Have an account?")]),a("a",{on:{click:function(t){e.hasAccount=!0}}},[e._v("Sign in")])])],1)])},s=[],r=a("1da1"),i=(a("96cf"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"register"}},[a("div",{staticClass:"container"},[a("h1",{staticClass:"is-size-3"},[e._v("Register")]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Username")]),a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"input",attrs:{type:"text",placeholder:"johnsmith"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._m(0)])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Password")]),a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"secret"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._m(1)])]),a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-link",attrs:{id:"register-submit",disabled:e.isDisabled},on:{click:e.registerUser}},[e._v("Submit")])])])])])}),o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-user"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-lock"})])}],c=a("d722"),u=a("7039"),l=a("efac"),d=a("df40"),p={name:"Register",components:{Notification:l["a"]},data:function(){return{username:"",password:""}},computed:{isDisabled:function(){return 0===this.username.length||0===this.password.length}},methods:{registerUser:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.username.length&&0!==e.password.length){t.next=2;break}throw new Error("Username or password cannot be empty.");case 2:return t.prev=2,t.next=5,c["a"].register(e.username,e.password);case 5:a=t.sent,t.next=16;break;case 8:t.prev=8,t.t0=t["catch"](2),t.t1=t.t0.response.data.code,t.next=403===t.t1?13:15;break;case 13:return d["a"].setNotification("info","Username already exists"),t.abrupt("break",16);case 15:d["a"].setNotification("danger","Something went wrong");case 16:a&&(u["a"].set(a),e.$store.commit("updateToken",a),e.$emit("authenticated"));case 17:case"end":return t.stop()}}),t,null,[[2,8]])})))()}}},f=p,g=(a("e36f"),a("2877")),h=Object(g["a"])(f,i,o,!1,null,"20fb2707",null),m=h.exports,v=a("83c9"),b={name:"AuthForm",components:{Login:v["a"],Register:m},data:function(){return{hasAccount:!0}},methods:{onAuthenticated:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c["a"].getAllMedia(e.$store.getters.getToken);case 3:return a=t.sent,e.$store.commit("updateMedia",a),t.next=7,c["a"].getDevices(e.$store.getters.getToken);case 7:a=t.sent,e.$store.commit("updateDevices",a),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),d["a"].setNotification("danger","Something went wrong");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}}},w=b,x=(a("ba8d"),Object(g["a"])(w,n,s,!1,null,"42995218",null));t["a"]=x.exports},7547:function(e,t,a){"use strict";a("c138")},"83c9":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"login"}},[a("div",{staticClass:"container"},[a("h1",{staticClass:"is-size-3"},[e._v("Login")]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Username")]),a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"input",attrs:{type:"text",placeholder:"johnsmith"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._m(0)])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Password")]),a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"secret"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._m(1)])]),a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-link",attrs:{id:"login-submit",disabled:e.submitDisabled},on:{click:e.authenticate}},[e._v("Submit")])])])])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-user"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-lock"})])}],r=a("1da1"),i=(a("96cf"),a("d722")),o=a("7039"),c=a("efac"),u=a("df40"),l={name:"Login",components:{Notification:c["a"]},data:function(){return{username:"",password:""}},computed:{submitDisabled:function(){return 0===this.username.length||0===this.password.length}},methods:{authenticate:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.username.length&&0!==e.password.length){t.next=2;break}throw new Error("Username or password cannot be empty.");case 2:return t.prev=2,t.next=5,i["a"].authenticate(e.username,e.password);case 5:a=t.sent,t.next=17;break;case 8:t.prev=8,t.t0=t["catch"](2),t.t1=t.t0.response.data.code,t.next=401===t.t1?13:15;break;case 13:return u["a"].setNotification("danger","Username or password is incorrect"),t.abrupt("break",17);case 15:return u["a"].setNotification("danger","Something went wrong"),t.abrupt("break",17);case 17:a&&(o["a"].set(a),e.$store.commit("updateToken",a),e.$emit("authenticated"));case 18:case"end":return t.stop()}}),t,null,[[2,8]])})))()}}},d=l,p=(a("a529"),a("2877")),f=Object(p["a"])(d,n,s,!1,null,"4a3ed190",null);t["a"]=f.exports},"8bb1":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"nav-tabs"}},[a("div",{staticClass:"tabs is-centered is-medium"},[a("ul",[a("li",{class:{"is-active":e.active.images},attrs:{id:"images"},on:{click:function(t){return e.setActive("media")}}},[e._m(0)]),a("li",{class:{"is-active":e.active.devices},attrs:{id:"devices"},on:{click:function(t){return e.setActive("devices")}}},[e._m(1)])])])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-image",attrs:{"aria-hidden":"true"}})]),a("span",[e._v("Media")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"far fa-circle",attrs:{"aria-hidden":"true"}})]),a("span",[e._v("Devices")])])}],r=(a("159b"),a("b64b"),{name:"NavTabs",data:function(){return{active:{images:!0,devices:!1}}},methods:{setActive:function(e){var t=this,a=!1;switch(Object.keys(this.active).forEach((function(e){t.active[e]=!1})),e){case"media":this.active.images=!0;break;case"devices":this.active.devices=!0;break;default:this.active.images=!0,a=!0;break}a||this.$emit("on-update",e)}}}),i=r,o=(a("53af"),a("2877")),c=Object(o["a"])(i,n,s,!1,null,"1771d2ba",null);t["a"]=c.exports},"8bf7":function(e,t,a){"use strict";a("2701")},a529:function(e,t,a){"use strict";a("cc32")},ba8d:function(e,t,a){"use strict";a("bd0f")},bd0f:function(e,t,a){},c10b:function(e,t,a){"use strict";a("ecd3")},c138:function(e,t,a){},cc32:function(e,t,a){},d722:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a("b85c"),s=a("1da1"),r=a("d4ec"),i=a("bee2"),o=a("ade3"),c=(a("99af"),a("159b"),a("b64b"),a("caad"),a("2532"),a("96cf"),a("bc3a")),u=a.n(c),l=a("5a30"),d=a("3806");function p(){return!1}var f=a("4360"),g=function(){function e(){Object(r["a"])(this,e)}return Object(i["a"])(e,null,[{key:"register",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t&&a){e.next=2;break}throw new Error("Username or password cannot be empty.");case 2:if(n={username:t,password:a},!p()){e.next=5;break}return e.abrupt("return",d.register.data.payload.token);case 5:return e.next=7,u.a.post("".concat(this.URL,"/auth/register"),n);case 7:return s=e.sent,f["a"].commit("updateUser",s.data.payload.user),e.abrupt("return",s.data.payload.token);case 10:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"authenticate",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t&&a){e.next=2;break}throw new Error("Username or password cannot be empty.");case 2:if(n={username:t,password:a},!p()){e.next=5;break}return e.abrupt("return",d.authenticate.data.payload.token);case 5:return e.next=7,u.a.post("".concat(this.URL,"/auth/authenticate"),n);case 7:return s=e.sent,f["a"].commit("updateUser",s.data.payload.user),e.abrupt("return",s.data.payload.token);case 10:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"fetchUser",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Access token is required");case 2:if(!p()){e.next=4;break}return e.abrupt("return",d.get_user.data.payload.user);case 4:return e.next=6,u.a.get("".concat(this.URL,"/auth/me"),{headers:{"x-access-token":t}});case 6:return a=e.sent,e.abrupt("return",a.data.payload.user);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteAccount",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Access token is required");case 2:return e.next=4,this.fetchUser(t);case 4:if(a=e.sent,!p()){e.next=7;break}return e.abrupt("return",d.delete_user.status);case 7:return e.prev=7,e.next=10,u.a.delete("".concat(this.URL,"/users/").concat(a._id),{headers:{"x-access-token":t}});case 10:return n=e.sent,e.abrupt("return",200===n.status);case 14:throw e.prev=14,e.t0=e["catch"](7),console.error(e.t0.response),e.t0;case 18:case"end":return e.stop()}}),e,this,[[7,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAllMedia",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Access token is required");case 2:if(!p()){e.next=4;break}return e.abrupt("return",void 0===d.all_media.data.payload?[]:d.all_media.data.payload);case 4:return e.next=6,u.a.get("".concat(this.URL,"/media"),{headers:{"x-access-token":t}});case 6:return a=e.sent,e.abrupt("return",void 0===a.data.payload?[]:a.data.payload);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"uploadMedia",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a,n){var s,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error("Access token required");case 2:return s=new l,s.append("file",t),r={"Content-Type":"multipart/form-data","x-access-token":n},a&&Object.keys(a).forEach((function(e){r[e]=a[e]})),e.next=8,u.a.post("".concat(this.URL,"/media"),s,{headers:r});case 8:return i=e.sent,e.abrupt("return",i.data.payload);case 10:case"end":return e.stop()}}),e,this)})));function t(t,a,n){return e.apply(this,arguments)}return t}()},{key:"deleteMedia",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}throw new Error("Access token required");case 2:return e.next=4,u.a.delete("".concat(this.URL,"/media/").concat(t),{headers:{"x-access-token":a}});case 4:return n=e.sent,e.abrupt("return",200===n.status);case 6:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"addDevice",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}throw new Error("Access token required");case 2:return e.next=4,u.a.post("".concat(this.URL,"/devices/"),{mac:t},{headers:{"x-access-token":a}});case 4:return n=e.sent,e.abrupt("return",n.data.payload);case 6:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getDevices",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Access token required");case 2:return e.next=4,u.a.get("".concat(this.URL,"/devices/"),{headers:{"x-access-token":t}});case 4:return a=e.sent,e.abrupt("return",a.data.payload);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteDevice",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}throw new Error("Access token required");case 2:return e.next=4,u.a.delete("".concat(this.URL,"/devices/").concat(t),{headers:{"x-access-token":a}});case 4:return n=e.sent,e.abrupt("return",200===n.status);case 6:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getTagSuggestion",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Access token is required");case 2:return e.next=4,u.a.get("".concat(this.URL,"/media/tags?term=").concat(a),{headers:{"x-access-token":t}});case 4:return n=e.sent,e.abrupt("return",void 0===n.data.payload?[]:n.data.payload);case 6:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getAllTags",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Access token is required");case 2:return e.next=4,u.a.get("".concat(this.URL,"/media/tagsall"),{headers:{"x-access-token":t}});case 4:return a=e.sent,e.abrupt("return",void 0===a.data?[]:a.data);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUserLogsAmount",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("Access token is required");case 2:return e.next=4,u.a.get("".concat(this.URL,"/log/usernlogs"),{headers:{"x-access-token":t}});case 4:return a=e.sent,e.abrupt("return",void 0===a.data.payload?[]:a.data.payload);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"searchLogs",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a,s,r,i,o,c,l){var d,p,f,g,h,m,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("Access token is required");case 2:return e.next=4,u.a.get("".concat(this.URL,"/log/search/?codes=").concat(a,"&user=").concat(s,"&firstPage=").concat(r,"&pageAmount=").concat(i,"&pageSize=").concat(o,"&from=").concat(c,"&to=").concat(l),{headers:{"x-access-token":t}});case 4:if(d=e.sent,void 0!==d.data.payload){e.next=7;break}return e.abrupt("return",[]);case 7:p=Object(n["a"])(d.data.payload.pages);try{for(p.s();!(f=p.n()).done;){g=f.value,h=Object(n["a"])(g.logs);try{for(h.s();!(m=h.n()).done;)v=m.value,v.content.includes("\\")&&(v.content=v.content.replaceAll("\\",""),v.content=v.content.substring(1,v.content.length-1))}catch(b){h.e(b)}finally{h.f()}}}catch(b){p.e(b)}finally{p.f()}return e.abrupt("return",void 0===d.data.payload?[]:d.data.payload);case 10:case"end":return e.stop()}}),e,this)})));function t(t,a,n,s,r,i,o,c){return e.apply(this,arguments)}return t}()},{key:"numberOfSessions",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a,n,s,r){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("Access token is required");case 2:return e.next=4,u.a.get("".concat(this.URL,"/log/numberOfSessions/?user=").concat(a,"&timescale=").concat(n,"&from=").concat(s,"&to=").concat(r),{headers:{"x-access-token":t}});case 4:return i=e.sent,e.abrupt("return",void 0===i.data.payload?[]:i.data.payload);case 6:case"end":return e.stop()}}),e,this)})));function t(t,a,n,s,r){return e.apply(this,arguments)}return t}()}]),e}();Object(o["a"])(g,"URL","https://app.enablingongoingness.com/api")},df40:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("d4ec"),s=a("bee2"),r=a("4360"),i=function(){function e(){Object(n["a"])(this,e)}return Object(s["a"])(e,null,[{key:"setNotification",value:function(e,t){r["a"].commit("setNotificationType",e),r["a"].commit("setNotificationMessage",t),r["a"].commit("setNotificationVisibility",!0)}}]),e}()},e36f:function(e,t,a){"use strict";a("2a3d")},ecd3:function(e,t,a){},efac:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],staticClass:"has-text-centered",style:{opacity:e.opacity},attrs:{id:"notification"}},[a("div",{staticClass:"notification",class:e.getClass},[a("button",{staticClass:"delete",on:{click:function(t){return e.$store.commit("setNotificationVisibility",!1)}}}),a("p",[e._v(e._s(e.message))])])])},s=[],r={name:"Notification",data:function(){return{opacity:.5,interval:null,duration:10}},computed:{message:function(){return this.$store.getters.getNotificationMessage},isVisible:function(){return this.$store.getters.getNotificationVisibility},getClass:function(){var e=this.$store.getters.getNotificationType;switch(e){case"info":return"is-info";case"warning":return"is-warning";case"danger":return"is-danger";default:return"is-light"}}},watch:{isVisible:function(e){var t=this;if(e){clearInterval(this.interval);var a=1e3*this.duration,n=a/100,s=0;this.opacity=1,this.interval=setInterval((function(){t.opacity-=.01,s+=n,s>=a&&(clearInterval(t.interval),t.$store.commit("setNotificationVisibility",!1))}),n)}}}},i=r,o=(a("5212"),a("2877")),c=Object(o["a"])(i,n,s,!1,null,"07724fff",null);t["a"]=c.exports}}]);
//# sourceMappingURL=chunk-common.3b42429a.js.map