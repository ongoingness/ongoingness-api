(function(e){function t(t){for(var n,i,o=t[0],c=t[1],u=t[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&m.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(m.length)m.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},s={logs:0},r=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;r.push([2,"chunk-vendors"]),a()})({"04e7":function(e,t,a){"use strict";var n=a("adc9"),s=a.n(n);s.a},"0825":function(e,t,a){},"0b7f":function(e,t,a){},"0cc4":function(e,t,a){"use strict";var n=a("0825"),s=a.n(n);s.a},2:function(e,t,a){e.exports=a("77f0")},"2ef1":function(e,t,a){},3806:function(e){e.exports=JSON.parse('{"register":{"data":{"code":200,"message":"success","errors":false,"payload":{"user":{"devices":[],"media":[],"_id":"5c4f07868a727300111ef4ba","iv":"fe89db32ed3d8f21d79bb8b813af5e68","username":"username","password":"2798a5b5f39cc56fe0a808d8b681b16a5c2057fdee21340f9866e9867f86e73e","createdAt":"2019-01-28T13:45:42.445Z","updatedAt":"2019-01-28T13:45:42.445Z","__v":0},"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVjNGYwNzg2OGE3MjczMDAxMTFlZjRiYSIsInVzZXJuYW1lIjoidXNlcm5hbWUiLCJpYXQiOjE1NDg2ODMxNDIsImV4cCI6MTU0ODc2OTU0Mn0.oSpXzGJpVKxYjsH8_vliuoHQEakTiVHgXsKCGjhI7_s"}},"status":200,"statusText":"OK","headers":{"content-type":"application/json; charset=utf-8"},"config":{"transformRequest":{},"transformResponse":{},"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"},"method":"post","url":"https://ongoingness-api.openlab.ncl.ac.uk/api/auth/register","data":"{\\"username\\":\\"username\\",\\"password\\":\\"password\\"}"},"request":{"upload":{"_ownerDocument":{"location":{"href":"http://localhost/","origin":"http://localhost","protocol":"http:","host":"localhost","hostname":"localhost","port":"","pathname":"/","search":"","hash":""}}},"_registeredHandlers":{},"_eventHandlers":{}}},"authenticate":{"data":{"code":200,"message":"success","errors":false,"payload":{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVjNGYwNzg2OGE3MjczMDAxMTFlZjRiYSIsInVzZXJuYW1lIjoidXNlcm5hbWUiLCJpYXQiOjE1NDg2ODMxNDIsImV4cCI6MTU0ODc2OTU0Mn0.oSpXzGJpVKxYjsH8_vliuoHQEakTiVHgXsKCGjhI7_s"}},"status":200,"statusText":"OK","headers":{"content-type":"application/json; charset=utf-8"},"config":{"transformRequest":{},"transformResponse":{},"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"},"method":"post","url":"https://ongoingness-api.openlab.ncl.ac.uk/api/auth/authenticate","data":"{\\"username\\":\\"username\\",\\"password\\":\\"password\\"}"},"request":{"upload":{"_ownerDocument":{"location":{"href":"http://localhost/","origin":"http://localhost","protocol":"http:","host":"localhost","hostname":"localhost","port":"","pathname":"/","search":"","hash":""}}},"_registeredHandlers":{},"_eventHandlers":{}}},"get_user":{"data":{"code":200,"message":"success","errors":false,"payload":{"user":{"devices":[],"media":[],"_id":"5c4f07868a727300111ef4ba","iv":"fe89db32ed3d8f21d79bb8b813af5e68","username":"username","password":"2798a5b5f39cc56fe0a808d8b681b16a5c2057fdee21340f9866e9867f86e73e","createdAt":"2019-01-28T13:45:42.445Z","updatedAt":"2019-01-28T13:45:42.445Z","__v":0}}},"status":200,"statusText":"OK","headers":{"content-type":"application/json; charset=utf-8"},"config":{"transformRequest":{},"transformResponse":{},"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"headers":{"Accept":"application/json, text/plain, */*","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVjNGYwNzg2OGE3MjczMDAxMTFlZjRiYSIsInVzZXJuYW1lIjoidXNlcm5hbWUiLCJpYXQiOjE1NDg2ODMxNDIsImV4cCI6MTU0ODc2OTU0Mn0.oSpXzGJpVKxYjsH8_vliuoHQEakTiVHgXsKCGjhI7_s"},"method":"get","url":"https://ongoingness-api.openlab.ncl.ac.uk/api/user/me"},"request":{"upload":{"_ownerDocument":{"location":{"href":"http://localhost/","origin":"http://localhost","protocol":"http:","host":"localhost","hostname":"localhost","port":"","pathname":"/","search":"","hash":""}}},"_registeredHandlers":{},"_eventHandlers":{}}},"delete_user":{"data":{"code":200,"message":"success","errors":false,"payload":{}},"status":200,"statusText":"OK","headers":{"content-type":"application/json; charset=utf-8"},"config":{"transformRequest":{},"transformResponse":{},"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"headers":{"Accept":"application/json, text/plain, */*","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVjNGYwNzg2OGE3MjczMDAxMTFlZjRiYSIsInVzZXJuYW1lIjoidXNlcm5hbWUiLCJpYXQiOjE1NDg2ODMxNDIsImV4cCI6MTU0ODc2OTU0Mn0.oSpXzGJpVKxYjsH8_vliuoHQEakTiVHgXsKCGjhI7_s"},"method":"delete","url":"https://ongoingness-api.openlab.ncl.ac.uk/api/user/5c4f07868a727300111ef4ba"},"request":{"upload":{"_ownerDocument":{"location":{"href":"http://localhost/","origin":"http://localhost","protocol":"http:","host":"localhost","hostname":"localhost","port":"","pathname":"/","search":"","hash":""}}},"_registeredHandlers":{},"_eventHandlers":{}}},"all_media":{"data":{"code":200,"message":"success","errors":false},"status":200,"statusText":"OK","headers":{"content-type":"application/json; charset=utf-8"},"config":{"transformRequest":{},"transformResponse":{},"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"headers":{"Accept":"application/json, text/plain, */*","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVjNGYwNzg2OGE3MjczMDAxMTFlZjRiYSIsInVzZXJuYW1lIjoidXNlcm5hbWUiLCJpYXQiOjE1NDg2ODMxNDIsImV4cCI6MTU0ODc2OTU0Mn0.oSpXzGJpVKxYjsH8_vliuoHQEakTiVHgXsKCGjhI7_s"},"method":"get","url":"http://localhost:3000/api/media"},"request":{"upload":{"_ownerDocument":{"location":{"href":"http://localhost/","origin":"http://localhost","protocol":"http:","host":"localhost","hostname":"localhost","port":"","pathname":"/","search":"","hash":""}}},"_registeredHandlers":{},"_eventHandlers":{}}}}')},"3b08":function(e,t,a){},"3ed3":function(e,t,a){"use strict";var n=a("bdce"),s=a.n(n);s.a},"3fee":function(e,t,a){},"490a":function(e,t,a){"use strict";var n=a("5679"),s=a.n(n);s.a},"4f84":function(e,t,a){},"4f93":function(e,t,a){"use strict";var n=a("3fee"),s=a.n(n);s.a},5679:function(e,t,a){},"735b":function(e,t,a){},"77f0":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("92c6"),a("b2d4");var n=a("2b0e"),s=a("2f62"),r={token:null},i={updateToken:function(e,t){e.token=t}},o={},c={getToken:function(e){return e.token}},u={state:r,mutations:i,actions:o,getters:c},l=(a("7db0"),a("c740"),a("a434"),{media:[]}),d={updateMedia:function(e,t){e.media=t},addMedia:function(e,t){e.media.push(t.payload)},removeMedia:function(e,t){var a=e.media.findIndex((function(e){return e._id===t}));e.media.splice(a,1)}},m={},g={getMedia:function(e){return e.media},getMediaById:function(e){return function(t){return e.media.find((function(e){return e._id===t}))}}},p={state:l,mutations:d,actions:m,getters:g},f={devices:[]},h={updateDevices:function(e,t){e.devices=t},addDevice:function(e,t){e.devices.push(t)},removeDevice:function(e,t){var a=e.devices.findIndex((function(e){return e._id===t}));e.devices.splice(a,1)}},v={},b={getDevices:function(e){return e.devices},getDeviceById:function(e){return function(t){return e.devices.find((function(e){return e._id===t}))}}},C={state:f,mutations:h,actions:v,getters:b},x={message:"",visible:!1,type:"info"},w={setNotificationMessage:function(e,t){e.message=t},setNotificationVisibility:function(e,t){e.visible=t},setNotificationType:function(e,t){e.type=t}},_={},k={getNotificationMessage:function(e){return e.message},getNotificationVisibility:function(e){return e.visible},getNotificationType:function(e){return e.type}},y={state:x,mutations:w,actions:_,getters:k},T={user:null},A={updateUser:function(e,t){e.user=t}},I={},L={getUser:function(e){return e.user}},N={state:T,mutations:A,actions:I,getters:L},E=(a("b0c0"),{tags:[],time_tags:[],places_tags:[],people_tags:[]}),O={addTags:function(e,t){for(var a=0;a<t.tags.length;a++)e.tags.push(t.tags[a].name);for(var n=0;n<t.time.length;n++)e.time_tags.push(t.time[n].value);for(var s=0;s<t.places.length;s++)e.places_tags.push(t.places[s].name);for(var r=0;r<t.people.length;r++)e.people_tags.push(t.people[r].name);e.tags.sort(P),e.time_tags.sort(P),e.places_tags.sort(P),e.people_tags.sort(P)}};function P(e,t){return e<t?-1:e>t?1:0}var S={},j={getTags:function(e){return e.tags},getTimeTags:function(e){return e.time_tags},getPlacesTags:function(e){return e.places_tags},getPeopleTags:function(e){return e.people_tags}},D={state:E,mutations:O,actions:S,getters:j},$={users:[]},R={setUsers:function(e,t){e.users.length=0;for(var a=0;a<t.length;a++)e.users.push(t[a])}},M={},F={getUsers:function(e){return e.users}},U={state:$,mutations:R,actions:M,getters:F},z=(a("caad"),a("2532"),{codes:[]}),B={addLoggingCode:function(e,t){e.codes.includes(t)||e.codes.push(t)}},Y={},V={getLoggingCodes:function(e){return e.codes}},J={state:z,mutations:B,actions:Y,getters:V},G=(a("c975"),a("a9e3"),a("d3b7"),a("96cf"),a("1da1")),X=(a("99af"),a("4160"),a("b64b"),a("159b"),a("d4ec")),Q=a("bee2"),H=a("ade3"),K=a("bc3a"),W=a.n(K),q=a("5a30"),Z=a("3806");function ee(){return!1}var te=function(){function e(){Object(X["a"])(this,e)}return Object(Q["a"])(e,null,[{key:"register",value:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,a){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t&&a){e.next=2;break}throw new Error("Username or password cannot be empty.");case 2:if(n={username:t,password:a},!ee()){e.next=5;break}return e.abrupt("return",Z.register.data.payload.token);case 5:return e.next=7,W.a.post("".concat(this.URL,"/auth/register"),n);case 7:return s=e.sent,oe.commit("updateUser",s.data.payload.user),e.abrupt("return",s.data.payload.token);case 10:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"authenticate",value:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,a){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t&&a){e.next=2;break}throw new Error("Username or password cannot be empty.");case 2:if(n={username:t,password:a},!ee()){e.next=5;break}return e.abrupt("return",Z.authenticate.data.payload.token);case 5:return e.next=7,W.a.post("".concat(this.URL,"/auth/authenticate"),n);case 7:return s=e.sent,oe.commit("updateUser",s.data.payload.user),e.abrupt("return",s.data.payload.token);case 10:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"fetchUser",value:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Access token is required");case 2:if(!ee()){e.next=4;break}return e.abrupt("return",Z.get_user.data.payload.user);case 4:return e.next=6,W.a.get("".concat(this.URL,"/auth/me"),{headers:{"x-access-token":t}});case 6:return a=e.sent,e.abrupt("return",a.data.payload.user);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteAccount",value:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Access token is required");case 2:return e.next=4,this.fetchUser(t);case 4:if(a=e.sent,!ee()){e.next=7;break}return e.abrupt("return",Z.delete_user.status);case 7:return e.prev=7,e.next=10,W.a.delete("".concat(this.URL,"/users/").concat(a._id),{headers:{"x-access-token":t}});case 10:return n=e.sent,e.abrupt("return",200===n.status);case 14:throw e.prev=14,e.t0=e["catch"](7),console.error(e.t0.response),e.t0;case 18:case"end":return e.stop()}}),e,this,[[7,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAllMedia",value:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Access token is required");case 2:if(!ee()){e.next=4;break}return e.abrupt("return",void 0===Z.all_media.data.payload?[]:Z.all_media.data.payload);case 4:return e.next=6,W.a.get("".concat(this.URL,"/media"),{headers:{"x-access-token":t}});case 6:return a=e.sent,e.abrupt("return",void 0===a.data.payload?[]:a.data.payload);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"uploadMedia",value:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,a,n){var s,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error("Access token required");case 2:return s=new q,s.append("file",t),r={"Content-Type":"multipart/form-data","x-access-token":n},a&&Object.keys(a).forEach((function(e){console.log(e),r[e]=a[e]})),e.next=8,W.a.post("".concat(this.URL,"/media"),s,{headers:r});case 8:return i=e.sent,console.log(i.data.payload),e.abrupt("return",i.data.payload);case 11:case"end":return e.stop()}}),e,this)})));function t(t,a,n){return e.apply(this,arguments)}return t}()},{key:"deleteMedia",value:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}throw new Error("Access token required");case 2:return e.next=4,W.a.delete("".concat(this.URL,"/media/").concat(t),{headers:{"x-access-token":a}});case 4:return n=e.sent,e.abrupt("return",n.data.status);case 6:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"addDevice",value:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}throw new Error("Access token required");case 2:return e.next=4,W.a.post("".concat(this.URL,"/devices/"),{mac:t},{headers:{"x-access-token":a}});case 4:return n=e.sent,e.abrupt("return",n.data.payload);case 6:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getDevices",value:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Access token required");case 2:return e.next=4,W.a.get("".concat(this.URL,"/devices/"),{headers:{"x-access-token":t}});case 4:return a=e.sent,e.abrupt("return",a.data.payload);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteDevice",value:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}throw new Error("Access token required");case 2:return e.next=4,W.a.delete("".concat(this.URL,"/devices/").concat(t),{headers:{"x-access-token":a}});case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getTagSuggestion",value:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Access token is required");case 2:return e.next=4,W.a.get("".concat(this.URL,"/media/tags?term=").concat(a),{headers:{"x-access-token":t}});case 4:return n=e.sent,e.abrupt("return",void 0===n.data.payload?[]:n.data.payload);case 6:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getAllTags",value:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Access token is required");case 2:return e.next=4,W.a.get("".concat(this.URL,"/media/tagsall"),{headers:{"x-access-token":t}});case 4:return a=e.sent,e.abrupt("return",void 0===a.data?[]:a.data);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUserLogsAmount",value:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("Access token is required");case 2:return e.next=4,W.a.get("".concat(this.URL,"/log/usernlogs"),{headers:{"x-access-token":t}});case 4:return a=e.sent,e.abrupt("return",void 0===a.data.payload?[]:a.data.payload);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"searchLogs",value:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,a,n,s,r,i,o,c){var u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("Access token is required");case 2:return console.log(o),console.log(c),e.next=6,W.a.get("".concat(this.URL,"/log/search/?codes=").concat(a,"&user=").concat(n,"&firstPage=").concat(s,"&pageAmount=").concat(r,"&pageSize=").concat(i,"&from=").concat(o,"&to=").concat(c),{headers:{"x-access-token":t}});case 6:return u=e.sent,e.abrupt("return",void 0===u.data.payload?[]:u.data.payload);case 8:case"end":return e.stop()}}),e,this)})));function t(t,a,n,s,r,i,o,c){return e.apply(this,arguments)}return t}()},{key:"numberOfSessions",value:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,a,n,s,r){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("Access token is required");case 2:return e.next=4,W.a.get("".concat(this.URL,"/log/numberOfSessions/?user=").concat(a,"&timescale=").concat(n,"&from=").concat(s,"&to=").concat(r),{headers:{"x-access-token":t}});case 4:return i=e.sent,e.abrupt("return",void 0===i.data.payload?[]:i.data.payload);case 6:case"end":return e.stop()}}),e,this)})));function t(t,a,n,s,r){return e.apply(this,arguments)}return t}()}]),e}();Object(H["a"])(te,"URL","https://api.enablingongoingness.com/api");var ae={user:null,codes:[],from:0,to:0,logs:[],currentPage:1,lastPage:0,lastIndexAdded:0,pageRequestAmount:10,pageSize:20},ne={setLogFormUser:function(e,t){e.user=t},updateLogFormCode:function(e,t){if(e.codes.includes(t)){var a=e.codes.indexOf(t);a>-1&&e.codes.splice(a,1)}else e.codes.push(t)},setLogFormFrom:function(e,t){e.from=t},setLogFormTo:function(e,t){e.to=t},setLastPage:function(e,t){e.lastPage=t},addLogPage:function(e,t){e.logs.push(t)},goToNextPage:function(e,t){if(e.currentPage!=e.lastPage&&(e.currentPage++,e.currentPage==Math.floor(e.lastIndexAdded/2)))return new Promise(function(){var a=Object(G["a"])(regeneratorRuntime.mark((function a(n){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,te.searchLogs(t,e.codes,e.user,Number(e.lastIndexAdded),Number(e.pageRequestAmount),Number(e.pageSize),e.from,e.to);case 2:if(s=a.sent,s.pages.length>0){for(r=0;r<s.pages.length;r++)null!=s.pages&&e.logs.push(s.pages[r]);e.lastIndexAdded=s.pages[s.pages.length-1].index}case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},goToPreviousPage:function(e,t){if(e.currentPage>1){e.currentPage--;for(var a=!1,n=0;n<e.logs.length&&!a;n++)a=e.logs[n].index==e.currentPage;if(!a)return new Promise(function(){var a=Object(G["a"])(regeneratorRuntime.mark((function a(n){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,te.searchLogs(t,e.codes,e.user,Number(e.currentPage),1,Number(e.pageSize),e.from,e.to);case 2:if(s=a.sent,s.pages.length>0)for(r=0;r<s.pages.length;r++)null!=s.pages&&e.logs.push(s.pages[r]);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},goToPage:function(e,t){if(t.page>0&&t.page<=e.lastPage){e.currentPage=Number(t.page);for(var a=!1,n=0;n<e.logs.length&&!a;n++)a=e.logs[n].index==t.page;if(!a)return new Promise(function(){var a=Object(G["a"])(regeneratorRuntime.mark((function a(n){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,te.searchLogs(t.token,e.codes,e.user,e.currentPage,1,Number(e.pageSize),e.from,e.to);case 2:if(s=a.sent,s.pages.length>0)for(r=0;r<s.pages.length;r++)null!=s.pages&&e.logs.push(s.pages[r]);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},setLogPageAdded:function(e,t){e.lastIndexAdded=t},resetLogs:function(e){e.logs.length=0,e.currentPage=1,e.lastPage=0}},se={},re={getLogFormUser:function(e){return e.user},getLogFormCodes:function(e){return e.codes},getLogFormFrom:function(e){return e.from},getLogFormTo:function(e){return e.to},getCurrentLogPage:function(e){var t=e.logs.find((function(t){return t.index===e.currentPage}));return null!=t?t.logs:null},getLogPage:function(e){return function(t){var a=e.logs.find((function(e){return e.index===t}));if(null!=a)return a.logs}},getAllLogPages:function(e){return e.logs},getCurrentLogPageIndex:function(e){return e.currentPage},getLastLogPageIndex:function(e){return e.lastPage},getLogPageRequestAmount:function(e){return e.pageRequestAmount},getLogPageSize:function(e){return e.pageSize}},ie={state:ae,mutations:ne,actions:se,getters:re};n["a"].use(s["a"]);var oe=new s["a"].Store({modules:{auth:u,media:p,device:C,notification:y,user:N,tags:D,usernlogs:U,logCodes:J,log:ie}}),ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Title"),e.isLoggedIn?e._e():a("AuthForm"),e.isLoggedIn?a("NavTabs",{on:{"on-update":e.tabUpdate}}):e._e(),e.isLoggedIn&&e.active.logs?a("div",[a("LogForm"),a("LogsTable")],1):e._e(),e.isLoggedIn&&e.active.piece?a("div",[a("PieceEngagement")],1):e._e(),a("Notification"),a("FooterBar")],1)},ue=[],le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"title"}},[a("section",{staticClass:"hero is-medium is-light has-text-centered"},[a("div",{staticClass:"hero-head has-text-right"},[a("div",{staticClass:"container"},[e.isLoggedIn?a("button",{staticClass:"button",on:{click:e.logout}},[e._v("Logout")]):e._e(),e.isLoggedIn?a("button",{staticClass:"button is-danger is-outlined",on:{click:e.deleteAccount}},[e._v("Delete Account")]):e._e()])]),e._m(0)])])},de=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container"},[a("h1",{staticClass:"title"},[e._v("Ongoingness")]),a("div",[e._v("Locket")])])])}],me=(a("ac1f"),a("1276"),function(){function e(){Object(X["a"])(this,e)}return Object(Q["a"])(e,null,[{key:"get",value:function(e){var t="; ".concat(document.cookie),a=t.split("; ".concat(e,"="));return 2===a.length?a.pop().split(";").shift():null}},{key:"delete",value:function(){document.cookie="authToken=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}},{key:"set",value:function(e){var t=new Date;t.setDate(t.getDate()+1),document.cookie="".concat(encodeURIComponent("authToken"),"=","".concat(encodeURIComponent(e),"; expires=").concat(t))}}]),e}()),ge=function(){function e(){Object(X["a"])(this,e)}return Object(Q["a"])(e,null,[{key:"setNotification",value:function(e,t){oe.commit("setNotificationType",e),oe.commit("setNotificationMessage",t),oe.commit("setNotificationVisibility",!0)}}]),e}(),pe={name:"Title",computed:{isLoggedIn:function(){return this.$store.getters.getToken}},methods:{logout:function(){this.$store.commit("updateToken",null),me.delete()},deleteAccount:function(){var e=this;return Object(G["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=window.confirm("Are you sure? your data cannot be recovered"),a){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,te.deleteAccount(e.$store.getters.getToken);case 6:e.$store.commit("updateToken",null),me.delete(),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](3),console.log(t.t0),ge.setNotification("danger","Something went wrong");case 14:case"end":return t.stop()}}),t,null,[[3,10]])})))()}}},fe=pe,he=(a("04e7"),a("2877")),ve=Object(he["a"])(fe,le,de,!1,null,"54c16576",null),be=ve.exports,Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"auth-form"}},[a("div",{staticClass:"container"},[e.hasAccount?a("Login",{on:{authenticated:e.onAuthenticated}}):a("Register",{on:{authenticated:e.onAuthenticated}}),e.hasAccount?a("div",[a("p",{staticClass:"switch"},[e._v("Don't have an account?")]),a("a",{on:{click:function(t){e.hasAccount=!1}}},[e._v("Register")])]):a("div",[a("p",{staticClass:"switch"},[e._v("Have an account?")]),a("a",{on:{click:function(t){e.hasAccount=!0}}},[e._v("Sign in")])])],1)])},xe=[],we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"register"}},[a("div",{staticClass:"container"},[a("h1",{staticClass:"is-size-3"},[e._v("Register")]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Username")]),a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"input",attrs:{type:"text",placeholder:"johnsmith"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._m(0)])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Password")]),a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"secret"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._m(1)])]),a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-link",attrs:{id:"register-submit",disabled:e.isDisabled},on:{click:e.registerUser}},[e._v("Submit")])])])])])},_e=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-user"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-lock"})])}],ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],staticClass:"has-text-centered",style:{opacity:e.opacity},attrs:{id:"notification"}},[a("div",{staticClass:"notification",class:e.getClass},[a("button",{staticClass:"delete",on:{click:function(t){return e.$store.commit("setNotificationVisibility",!1)}}}),a("p",[e._v(e._s(e.message))])])])},ye=[],Te={name:"Notification",data:function(){return{opacity:.5,interval:null,duration:10}},computed:{message:function(){return this.$store.getters.getNotificationMessage},isVisible:function(){return this.$store.getters.getNotificationVisibility},getClass:function(){var e=this.$store.getters.getNotificationType;switch(e){case"info":return"is-info";case"warning":return"is-warning";case"danger":return"is-danger";default:return"is-light"}}},watch:{isVisible:function(e){var t=this;if(e){clearInterval(this.interval);var a=1e3*this.duration,n=a/100,s=0;this.opacity=1,this.interval=setInterval((function(){t.opacity-=.01,s+=n,s>=a&&(clearInterval(t.interval),t.$store.commit("setNotificationVisibility",!1))}),n)}}}},Ae=Te,Ie=(a("bd54"),Object(he["a"])(Ae,ke,ye,!1,null,"1a4298ec",null)),Le=Ie.exports,Ne={name:"Register",components:{Notification:Le},data:function(){return{username:"",password:""}},computed:{isDisabled:function(){return 0===this.username.length||0===this.password.length}},methods:{registerUser:function(){var e=this;return Object(G["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.username.length&&0!==e.password.length){t.next=2;break}throw new Error("Username or password cannot be empty.");case 2:return t.prev=2,t.next=5,te.register(e.username,e.password);case 5:a=t.sent,t.next=16;break;case 8:t.prev=8,t.t0=t["catch"](2),t.t1=t.t0.response.data.code,t.next=403===t.t1?13:15;break;case 13:return ge.setNotification("info","Username already exists"),t.abrupt("break",16);case 15:ge.setNotification("danger","Something went wrong");case 16:a&&(me.set(a),e.$store.commit("updateToken",a),e.$emit("authenticated"));case 17:case"end":return t.stop()}}),t,null,[[2,8]])})))()}}},Ee=Ne,Oe=(a("9f0a"),Object(he["a"])(Ee,we,_e,!1,null,"4bf96bf4",null)),Pe=Oe.exports,Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"login"}},[a("div",{staticClass:"container"},[a("h1",{staticClass:"is-size-3"},[e._v("Login")]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Username")]),a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"input",attrs:{type:"text",placeholder:"johnsmith"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._m(0)])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Password")]),a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"secret"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._m(1)])]),a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-link",attrs:{id:"login-submit",disabled:e.submitDisabled},on:{click:e.authenticate}},[e._v("Submit")])])])])])},je=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-user"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-lock"})])}],De={name:"Login",components:{Notification:Le},data:function(){return{username:"",password:""}},computed:{submitDisabled:function(){return 0===this.username.length||0===this.password.length}},methods:{authenticate:function(){var e=this;return Object(G["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.username.length&&0!==e.password.length){t.next=2;break}throw new Error("Username or password cannot be empty.");case 2:return t.prev=2,t.next=5,te.authenticate(e.username,e.password);case 5:a=t.sent,t.next=17;break;case 8:t.prev=8,t.t0=t["catch"](2),t.t1=t.t0.response.data.code,t.next=401===t.t1?13:15;break;case 13:return ge.setNotification("danger","Username or password is incorrect"),t.abrupt("break",17);case 15:return ge.setNotification("danger","Something went wrong"),t.abrupt("break",17);case 17:a&&(me.set(a),e.$store.commit("updateToken",a),e.$emit("authenticated"));case 18:case"end":return t.stop()}}),t,null,[[2,8]])})))()}}},$e=De,Re=(a("bdc6"),Object(he["a"])($e,Se,je,!1,null,"24c1467d",null)),Me=Re.exports,Fe={name:"AuthForm",components:{Login:Me,Register:Pe},data:function(){return{hasAccount:!0}},methods:{onAuthenticated:function(){var e=this;return Object(G["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.getAllMedia(e.$store.getters.getToken);case 3:return a=t.sent,e.$store.commit("updateMedia",a),t.next=7,te.getDevices(e.$store.getters.getToken);case 7:a=t.sent,e.$store.commit("updateDevices",a),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),ge.setNotification("danger","Something went wrong");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}}},Ue=Fe,ze=(a("b5fd"),Object(he["a"])(Ue,Ce,xe,!1,null,"2cad9361",null)),Be=ze.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"media"}},[a("h2",{staticClass:"is-size-3"},[e._v("Media")]),a("UploadMedia"),a("h2",{staticClass:"is-size-4"},[e._v("Your Media"),a("h3",{staticClass:"is-size-5 media-header"},[e._v("Permanent Media")]),a("p",{staticClass:"is-size-6"},[e._v("This is your permanent media. You can add a maximum of 7 media items.")]),a("div",{staticClass:"media-collection"},[e._l(e.permanentMedia,(function(e){return a("MediaItem",{key:e.id,staticClass:"media-item",attrs:{media:e}})})),e._l(e.placeholderCountPermanent,(function(t){return a("div",[e._m(0,!0)])}))],2),a("h3",{staticClass:"is-size-5 media-header"},[e._v("Temporary Media")]),a("p",{staticClass:"is-size-6"},[e._v("This is your temporary media. You can add a maximum of 13 items.")]),a("div",{staticClass:"media-collection"},[e._l(e.temporaryMedia,(function(e){return a("MediaItem",{key:e.id,staticClass:"media-item",attrs:{media:e}})})),e._l(e.placeholderCountTemporary,(function(t){return a("div",[e._m(1,!0)])}))],2)])],1)},Ve=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{margin:"5px"}},[n("img",{attrs:{src:a("9345")}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{margin:"5px"}},[n("img",{attrs:{src:a("9345")}})])}],Je=(a("4de4"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"media-item"}},[a("div",{staticClass:"actions has-text-right"},[a("span",{staticClass:"icon action",on:{click:function(t){return e.deleteMedia(e.media._id)}}},[a("i",{staticClass:"fas fa-trash"})])]),a("figure",[a("img",{attrs:{src:e.imageUrl}})]),a("br"),a("div",{staticClass:"has-text-centered"},[a("div",{staticClass:"date is-size-6"},[a("p",[e._v("Added on:")]),e._v(e._s(e.formattedDate))])])])}),Ge=[],Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isTime?a("div",{staticClass:"tag is-link media-tag"},[a("div",{staticClass:"tag-name"}),e._v(" "+e._s(e.setName))]):e.isPlace?a("div",{staticClass:"tag is-danger media-tag"},[a("div",{staticClass:"tag-name"}),e._v(" "+e._s(e.setName))]):e.isPerson?a("div",{staticClass:"tag is-warning media-tag"},[a("div",{staticClass:"tag-name"}),e._v(" "+e._s(e.setName))]):a("div",{staticClass:"tag is-primary media-tag"},[a("div",{staticClass:"tag-name"}),e._v(" "+e._s(e.setName))])},Qe=[],He={props:["tagname"],name:"Tag",computed:{setName:function(){return this.tagname.includes("/")?this.tagname.split("/")[1]:this.tagname.includes("@")?this.tagname.split("@")[1]:this.tagname},isTime:function(){return this.tagname.includes("t/")||this.tagname.includes("time/")},isPlace:function(){return this.tagname.includes("p/")||this.tagname.includes("place/")},isPerson:function(){return this.tagname.includes("@")}}},Ke=He,We=(a("0cc4"),Object(he["a"])(Ke,Xe,Qe,!1,null,"5b523e5e",null)),qe=We.exports,Ze={props:["media"],name:"MediaItem",components:{Tag:qe},computed:{imageUrl:function(){return"".concat(te.URL,"/media/").concat(this.media._id,"?token=").concat(this.$store.getters.getToken)},formattedDate:function(){var e={weekday:"long",year:"numeric",month:"short",day:"numeric"},t=new Date(this.media.createdAt);return t.toLocaleDateString(e)},tags:function(){return this.media.emotions}},methods:{deleteMedia:function(e){var t=this;return Object(G["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,te.deleteMedia(e,t.$store.getters.getToken);case 3:a.next=9;break;case 5:return a.prev=5,a.t0=a["catch"](0),ge.setNotification("danger","Could not delete media"),a.abrupt("return");case 9:t.$store.commit("removeMedia",e);case 10:case"end":return a.stop()}}),a,null,[[0,5]])})))()},tagKey:function(e){return"".concat(this.media._id,"-").concat(e)}}},et=Ze,tt=(a("8623"),Object(he["a"])(et,Je,Ge,!1,null,"b3dce4d2",null)),at=tt.exports,nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"upload-media"}},[a("h2",{staticClass:"is-size-4"},[e._v("Upload Media")]),a("div",{staticClass:"hide-buttons"},[e.isHidden?a("button",{staticClass:"button",on:{click:e.submit}},[e._v("Add Media")]):a("button",{staticClass:"button",on:{click:e.submit}},[e._v("Close")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isHidden,expression:"!isHidden"}]},[a("div",{staticClass:"file is-boxed file-upload"},[a("label",{staticClass:"file-label"},[a("input",{staticClass:"file-input",attrs:{type:"file",name:"file"},on:{change:e.handleFileChange}}),e._m(0),a("span",{staticClass:"file-name"},[e._v(e._s(e.filename))])])]),a("div",{staticClass:"control image-tag-selection"},[a("p",[e._v("Which collection should this media be added to?")]),a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.ltag,expression:"ltag"}],attrs:{type:"radio",disabled:0==e.placeholderCountPermanent,name:"mtag",value:"permanent"},domProps:{checked:e._q(e.ltag,"permanent")},on:{change:function(t){e.ltag="permanent"}}}),e._v(" Permanent Collection")]),a("br"),a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.ltag,expression:"ltag"}],attrs:{type:"radio",name:"mtag",disabled:0==e.placeholderCountTemporary,value:"temporary"},domProps:{checked:e._q(e.ltag,"temporary")},on:{change:function(t){e.ltag="temporary"}}}),e._v(" Temporary Collection")])]),a("div"),a("button",{staticClass:"button upload-button is-primary",class:{"is-loading":e.isBusy},attrs:{disabled:null===e.file||void 0===e.file||"unset"===e.ltag},on:{click:e.uploadFile}},[e._v("Upload")])])])},st=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"file-cta"},[a("span",{staticClass:"file-icon"},[a("i",{staticClass:"fas fa-upload"})]),a("span",{staticClass:"file-label has-text-centered"},[e._v("Choose a file")])])}],rt=(a("fb6a"),a("8e5f")),it=a.n(rt),ot=a("f09c"),ct={components:{Multiselect:it.a},name:"UploadMedia",props:["selectedMedia"],data:function(){return{file:null,era:"past",ltag:"unset",isBusy:!1,isHidden:!0,emotions:ot,lcontent:"file",value:[],options:[],linkedMedia:[]}},methods:{submit:function(){this.isHidden=!this.isHidden},addTag:function(e){this.value.push({name:e})},uploadFile:function(){var e=this;return Object(G["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.ltag){t.next=3;break}return ge.setNotification("warning","You must select whether media is permanent or temporary"),t.abrupt("return");case 3:return e.isBusy=!0,t.prev=4,a=[],e.value.forEach((function(e){a.push(e.name)})),t.next=9,te.uploadMedia(e.file,{era:e.era,locket:e.ltag,emotions:a,links:e.linkedMedia},e.$store.getters.getToken);case 9:n=t.sent,e.file=null,e.$store.commit("addMedia",n),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](4),ge.setNotification("danger","Something went wrong"),e.file=null;case 18:return t.prev=18,e.isBusy=!1,e.options=[],e.value=[],e.ltag="unset",t.finish(18);case 24:case"end":return t.stop()}}),t,null,[[4,14,18,24]])})))()},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},handleFileChange:function(e){this.file=e.target.files[0]},getSuggestedTags:function(e){var t=this;return Object(G["a"])(regeneratorRuntime.mark((function a(){var n,s,r,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(0!==e.length){a.next=4;break}t.options=[],a.next=10;break;case 4:return a.next=6,te.getTagSuggestion(t.$store.getters.getToken,e);case 6:for(n=a.sent,s=[],r=0;r<n.length;r+=1)i="",o=n[r].name,e.includes("t/")?(i="t/",o=n[r].value):e.includes("p/")?i="p/":e.includes("@")&&(i="@"),s.push({name:"".concat(i).concat(o)});t.options=s;case 10:case"end":return a.stop()}}),a)})))()},asyncUpdate:function(e){this.options=e}},computed:{filename:function(){return null===this.file||void 0===this.file?"Your media":this.file.name},presentMedia:function(){return this.$store.getters.getMedia.filter((function(e){return"permanent"===e.locket}))},pastMedia:function(){return this.$store.getters.getMedia.filter((function(e){return"temporary"===e.locket}))},placeholderCountPermanent:function(){return 7-this.presentMedia.length},placeholderCountTemporary:function(){return 13-this.pastMedia.length}}},ut=ct,lt=(a("c55b"),Object(he["a"])(ut,nt,st,!1,null,"0f86974e",null)),dt=lt.exports,mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tag is-primary media-tag"},[a("div",{staticClass:"tag-name"}),e._v(" "+e._s(e.setName))])},gt=[],pt={props:["tagname"],name:"TagGeneral",computed:{setName:function(){return this.tagname}}},ft=pt,ht=(a("b1ed"),Object(he["a"])(ft,mt,gt,!1,null,"2bad99ce",null)),vt=ht.exports,bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tag is-danger media-tag"},[a("div",{staticClass:"tag-name"}),e._v(" "+e._s(e.setName))])},Ct=[],xt={props:["tagname"],name:"TagPeople",computed:{setName:function(){return this.tagname}}},wt=xt,_t=(a("eb52"),Object(he["a"])(wt,bt,Ct,!1,null,"035b4fde",null)),kt=_t.exports,yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tag is-warning media-tag"},[a("div",{staticClass:"tag-name"}),e._v(" "+e._s(e.setName))])},Tt=[],At={props:["tagname"],name:"TagPlace",computed:{setName:function(){return this.tagname}}},It=At,Lt=(a("b5b9"),Object(he["a"])(It,yt,Tt,!1,null,"19d8a45c",null)),Nt=Lt.exports,Et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tag is-link media-tag"},[a("div",{staticClass:"tag-name"}),e._v(" "+e._s(e.setName))])},Ot=[],Pt={props:["tagname"],name:"TagTime",computed:{setName:function(){return this.tagname}}},St=Pt,jt=(a("bf1a"),Object(he["a"])(St,Et,Ot,!1,null,"49f962c4",null)),Dt=jt.exports,$t={name:"Media",components:{UploadMedia:dt,MediaItem:at,Notification:Le,TagGeneral:vt,TagPeople:kt,TagPlace:Nt,TagTime:Dt},data:function(){return{showTags:!1}},methods:{submit:function(){this.showTags=!this.showTags}},computed:{permanentMedia:function(){var e=this.$store.getters.getMedia.filter((function(e){return"permanent"===e.locket}));return e.sort((function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)}))},temporaryMedia:function(){var e=this.$store.getters.getMedia.filter((function(e){return"temporary"===e.locket}));return e.sort((function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)}))},tags:function(){return this.$store.getters.getTags},timeTags:function(){return this.$store.getters.getTimeTags},placeTags:function(){return this.$store.getters.getPlacesTags},peopleTags:function(){return this.$store.getters.getPeopleTags},placeholderCountPermanent:function(){return 7-this.permanentMedia.length},placeholderCountTemporary:function(){return 13-this.temporaryMedia.length}}},Rt=$t,Mt=(a("490a"),Object(he["a"])(Rt,Ye,Ve,!1,null,"10e3272d",null)),Ft=Mt.exports,Ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"nav-tabs"}},[a("div",{staticClass:"tabs is-centered is-medium"},[a("ul",[a("li",{class:{"is-active":e.active.logs},attrs:{id:"images"},on:{click:function(t){return e.setActive("logs")}}},[e._m(0)]),a("li",{class:{"is-active":e.active.piece},attrs:{id:"devices"},on:{click:function(t){return e.setActive("piece")}}},[e._m(1)]),a("li",{class:{"is-active":e.active.content},attrs:{id:"devices"},on:{click:function(t){return e.setActive("content")}}},[e._m(2)]),a("li",{class:{"is-active":e.active.website},attrs:{id:"devices"},on:{click:function(t){return e.setActive("website")}}},[e._m(3)])])])])},zt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-table",attrs:{"aria-hidden":"true"}})]),a("span",[e._v("Logs")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"far fa-circle",attrs:{"aria-hidden":"true"}})]),a("span",[e._v("Piece Engagement")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"far fa-circle",attrs:{"aria-hidden":"true"}})]),a("span",[e._v("Content Engagement")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"far fa-circle",attrs:{"aria-hidden":"true"}})]),a("span",[e._v("Website Engagement ")])])}],Bt={name:"NavTabs",data:function(){return{active:{logs:!0,piece:!1,content:!1,website:!1}}},methods:{setActive:function(e){var t=this,a=!1;switch(Object.keys(this.active).forEach((function(e){t.active[e]=!1})),e){case"logs":this.active.logs=!0;break;case"piece":this.active.piece=!0;break;case"content":this.active.content=!0;break;case"website":this.active.website=!0;break;default:this.active.logs=!0,a=!0;break}a||this.$emit("on-update",e)}}},Yt=Bt,Vt=(a("c163"),Object(he["a"])(Yt,Ut,zt,!1,null,"6b0538e8",null)),Jt=Vt.exports,Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"devices"}},[a("h1",{staticClass:"is-size-3"},[e._v("Your Devices")]),a("h1",{staticClass:"is-size-4"},[e._v("Register Device")]),a("p",[e._v("Add a device to display media on below. Add the device's MAC address to the text field.")]),a("div",[a("InputBar",{staticClass:"input-bar",attrs:{iconGroup:"fas",icon:"fa-plus",placeholder:"Device code"},on:{"on-submit":e.addDevice}})],1),a("h1",{staticClass:"is-size-4"},[e._v("All Devices")]),a("p",[e._v("These are all your registered devices. To remove a device press the delete button.")]),a("div",{staticClass:"all-devices"},[a("ul",{staticClass:"list"},e._l(e.getDevices,(function(t){return a("li",{staticClass:"list-item"},[e._v(e._s(t.mac)),a("a",{staticClass:"delete has-text-right",on:{click:function(a){return e.deleteDevice(t._id)}}})])})),0)])])},Xt=[],Qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"input-bar"}},[a("div",{staticClass:"field has-addons"},[a("div",{staticClass:"control text-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"input",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.value},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)},input:function(t){t.target.composing||(e.value=t.target.value)}}})]),a("div",{staticClass:"control"},[a("a",{staticClass:"button is-info is-outlined",attrs:{id:"submit-todo",disabled:e.value.length<1},on:{click:e.onSubmit}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-plus",class:[e.iconGroup,e.icon]})])])])])])},Ht=[],Kt={name:"InputBar",props:["iconGroup","icon","placeholder"],methods:{onSubmit:function(){this.$emit("on-submit",this.value),this.value=""}},data:function(){return{value:""}}},Wt=Kt,qt=Object(he["a"])(Wt,Qt,Ht,!1,null,"703aa0cc",null),Zt=qt.exports,ea={name:"Devices",components:{Notification:Le,InputBar:Zt},data:function(){return{deviceId:""}},methods:{deleteDevice:function(e){var t=this;return Object(G["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,te.deleteDevice(e,t.$store.getters.getToken);case 3:t.$store.commit("removeDevice",e),a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](0),ge.setNotification("danger","Device could not be deleted");case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))()},addDevice:function(e){var t=this;return Object(G["a"])(regeneratorRuntime.mark((function a(){var n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.$store.getters.getDevices.findIndex((function(t){return t.mac===e}))>-1,!n){a.next=4;break}return ge.setNotification("warning","Device already exists"),a.abrupt("return");case 4:return a.prev=4,a.next=7,te.addDevice(e,t.$store.getters.getToken);case 7:s=a.sent,t.$store.commit("addDevice",s),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](4),ge.setNotification("danger","Device could not be added");case 14:case"end":return a.stop()}}),a,null,[[4,11]])})))()}},computed:{getDevices:function(){return this.$store.getters.getDevices}}},ta=ea,aa=(a("f4fa"),Object(he["a"])(ta,Gt,Xt,!1,null,"4c7c4e5e",null)),na=aa.exports,sa=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ra=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"footer has-text-centered",attrs:{id:"footer"}},[a("div",{staticClass:"container"},[a("h6",{staticClass:"is-size-4"},[e._v("Ongoingness")]),a("p",[e._v("Ongoingness by "),a("a",{attrs:{href:"https://openlab.ncl.ac.uk/"}},[e._v("Open Lab, Newcastle University")]),e._v(", and "),a("a",{attrs:{href:"https://www.northumbria.ac.uk"}},[e._v("Northumbria University")]),e._v(".")]),a("p",[e._v("The software is licensed under "),a("a",{attrs:{href:"https://opensource.org/licenses/BSD-3-Clause"}},[e._v("BSD-3")]),e._v(". Checkout the "),a("a",{attrs:{href:"https://github.com/digitalinteraction"}},[e._v("source code")]),e._v(" on Github."),a("br"),e._v("If you have any questions about your data or wish for it to be removed, then please send an email to "),a("a",{attrs:{href:"mailto:openlab-admin@ncl.ac.uk"}},[e._v("Open Lab.")])])])])}],ia={name:"FooterBar"},oa=ia,ca=(a("917a"),Object(he["a"])(oa,sa,ra,!1,null,"ca8df682",null)),ua=ca.exports,la=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",staticStyle:{"padding-bottom":"30px"},attrs:{id:"media"}},[a("h2",{staticClass:"is-size-3"},[e._v("Users")]),a("div",{staticClass:"user-container"},e._l(e.users,(function(e){return a("UserSelect",{key:e.id,staticClass:"user-item",attrs:{user:e}})})),1),a("h2",{staticClass:"is-size-3"},[e._v("Codes")]),a("div",{staticClass:"code-container"},e._l(e.codes,(function(e){return a("CodeItem",{key:e,staticClass:"code-item",attrs:{code:e}})})),1),a("h2",{staticClass:"is-size-3"},[e._v("Timeline")]),a("div",{staticClass:"code-container"},[a("div",{staticClass:"time-selector-container"},[a("label",[e._v("From:")]),a("input",{staticClass:"time-selector",attrs:{type:"date"},on:{change:e.setFrom}})]),a("div",{staticClass:"time-selector-container"},[a("label",[e._v("To:")]),a("input",{staticClass:"time-selector",attrs:{type:"date"},on:{change:e.setTo}})])]),a("div",{staticStyle:{"text-align":"center"}},[a("button",{staticClass:"button is-primary is-large",class:{"is-loading":e.loadingData},staticStyle:{width:"400px"},on:{click:e.searchLogs}},[e._v("Search")])])])},da=[],ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("input",{attrs:{type:"radio",name:e.user},domProps:{value:e.id},on:{input:e.updateSelectedUser}}),a("label",{staticClass:"user-log-name"},[e._v(e._s(e.username))])])},ga=[],pa={props:["user"],name:"UserSelect",computed:{username:function(){return this.user.username},id:function(){return this.user.id}},methods:{updateSelectedUser:function(e){this.$store.commit("setLogFormUser",e.target.value)}}},fa=pa,ha=(a("7a2c"),Object(he["a"])(fa,ma,ga,!1,null,"4dbe91a2",null)),va=ha.exports,ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("input",{attrs:{type:"checkbox",name:e.value,unchecked:""},domProps:{value:e.value},on:{input:e.updateSelectedCode}}),a("label",{staticClass:"code-button"},[e._v(e._s(e.value))])])},Ca=[],xa={props:["code"],name:"CodeItem",computed:{value:function(){return this.code}},methods:{updateSelectedCode:function(e){this.$store.commit("updateLogFormCode",e.target.value)}}},wa=xa,_a=(a("8d4c"),Object(he["a"])(wa,ba,Ca,!1,null,"663b536c",null)),ka=_a.exports,ya={name:"LogForm",components:{UserSelect:va,CodeItem:ka},data:function(){return{loadingData:!1}},computed:{users:function(){return this.$store.getters.getUsers},codes:function(){return this.$store.getters.getLoggingCodes}},methods:{searchLogs:function(){var e=this;return Object(G["a"])(regeneratorRuntime.mark((function t(){var a,n,s,r,i,o,c,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.$store.getters.getLogFormCodes,n=e.$store.getters.getLogFormUser,s=e.$store.getters.getToken,r=e.$store.getters.getLogFormFrom,i=e.$store.getters.getLogFormTo,o=e.$store.getters.getLogPageRequestAmount,c=e.$store.getters.getLogPageSize,null==n||null==s){t.next=15;break}return e.loadingData=!0,e.$store.commit("resetLogs"),t.next=12,te.searchLogs(s,a,n,1,o,c,r,i);case 12:if(u=t.sent,u.pages.length>0){for(l=0;l<u.pages.length;l++)null!=u.pages&&e.$store.commit("addLogPage",u.pages[l]);e.$store.commit("setLogPageAdded",u.pages[u.pages.length-1].index),e.$store.commit("setLastPage",u.totalPages)}e.loadingData=!1;case 15:case"end":return t.stop()}}),t)})))()},setFrom:function(e){this.$store.commit("setLogFormFrom",Number(new Date(e.target.value).getTime()))},setTo:function(e){var t=new Date(e.target.value),a=new Date("".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate(),"T23:59:59.999Z"));this.$store.commit("setLogFormTo",Number(a))}}},Ta=ya,Aa=(a("c60d"),Object(he["a"])(Ta,la,da,!1,null,"29217c30",null)),Ia=Aa.exports,La=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.hasData?a("div",{staticClass:"container",staticStyle:{"margin-top":"30px","margin-bottom":"60px"},attrs:{id:"media"}},[a("div",{staticClass:"field has-addons",staticStyle:{"justify-content":"center","border-bottom-style":"solid","border-bottom-width":"2px","border-bottom-color":"#209cee"}},[a("p",{staticClass:"control style",staticStyle:{"margin-right":"20px"}},[a("button",{staticClass:"button is-info",on:{click:e.goToFirstPage}},[e._v("1")])]),a("p",{staticClass:"control"},[a("button",{staticClass:"button is-info",on:{click:e.previousPage}},[e._v("<-")])]),a("p",{staticClass:"control"},[a("button",{staticClass:"button is-info",attrs:{disabled:""}},[e._v(e._s(e.currentPageIndex))])]),a("p",{staticClass:"control"},[a("button",{staticClass:"button is-info",on:{click:e.nextPage}},[e._v("->")])]),a("p",{staticClass:"control style",staticStyle:{"margin-left":"20px"}},[a("button",{staticClass:"button is-info",on:{click:e.goToLastPage}},[e._v(e._s(e.lastPageIndex))])])]),a("table",{staticClass:"log-table"},[e._m(0),e._l(e.currentPageLogs,(function(e){return a("LogItem",{key:e._id,attrs:{log:e}})}))],2),a("div",{staticClass:"field has-addons",staticStyle:{"justify-content":"center","border-top-style":"solid","border-top-width":"2px","border-top-color":"#209cee"}},[a("p",{staticClass:"control style",staticStyle:{"margin-right":"20px"}},[a("button",{staticClass:"button is-info",on:{click:e.goToFirstPage}},[e._v("1")])]),a("p",{staticClass:"control"},[a("button",{staticClass:"button is-info",on:{click:e.previousPage}},[e._v("<-")])]),a("p",{staticClass:"control"},[a("button",{staticClass:"button is-info",attrs:{disabled:""}},[e._v(e._s(e.currentPageIndex))])]),a("p",{staticClass:"control"},[a("button",{staticClass:"button is-info",on:{click:e.nextPage}},[e._v("->")])]),a("p",{staticClass:"control style",staticStyle:{"margin-left":"20px"}},[a("button",{staticClass:"button is-info",on:{click:e.goToLastPage}},[e._v(e._s(e.lastPageIndex))])])])]):e._e()},Na=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",[e._v("Code")]),a("th",[e._v("Timestamp")]),a("th",[e._v("Content")]),a("th",[e._v("Message")])])}],Ea=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("td",[e._v(e._s(e.code))]),a("td",[e._v(e._s(e.timestamp))]),a("td",{staticClass:"content"},[e._v(e._s(e.content))]),a("td",[e._v(e._s(e.message))])])},Oa=[],Pa=(a("5319"),{props:["log"],name:"LogItem",computed:{code:function(){return this.log.code},timestamp:function(){return this.log.timestamp.replace("T"," ").replace("Z","")},content:function(){for(var e="",t=JSON.parse(this.log.content),a=Object.keys(t),n=0;n<a.length;n++)"media"==a[n]?e+="".concat(a[n],": ").concat(JSON.stringify(t[a[n]]),"\n"):"token"!=a[n]&&"user"!=a[n]&&(e+="".concat(a[n],": ").concat(t[a[n]],"\n"));return e},message:function(){return this.log.message}}}),Sa=Pa,ja=(a("aaca"),Object(he["a"])(Sa,Ea,Oa,!1,null,"e902de7a",null)),Da=ja.exports,$a={name:"LogsTable",components:{LogItem:Da},computed:{currentPageLogs:function(){return this.$store.getters.getCurrentLogPage},currentPageIndex:function(){return this.$store.getters.getCurrentLogPageIndex},lastPageIndex:function(){return this.$store.getters.getLastLogPageIndex},hasData:function(){return null!=this.$store.getters.getCurrentLogPage}},methods:{nextPage:function(){var e=this.$store.getters.getToken;this.$store.commit("goToNextPage",e)},previousPage:function(){this.$store.commit("goToPreviousPage",this.$store.getters.getToken)},goToFirstPage:function(){var e=this.$store.getters.getToken;this.$store.commit("goToPage",{page:1,token:e})},goToLastPage:function(){var e=this.$store.getters.getToken;this.$store.commit("goToPage",{page:this.$store.getters.getLastLogPageIndex,token:e})}}},Ra=$a,Ma=(a("dbfe"),Object(he["a"])(Ra,La,Na,!1,null,"740aebaf",null)),Fa=Ma.exports,Ua=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"media"}},[a("div",{staticStyle:{display:"inline"}},[a("h2",{staticClass:"is-size-3",staticStyle:{display:"inline"}},[e._v(e._s(this.pageTitle)+" ")]),e.showButtons?e._e():a("button",{staticClass:"button is-primary",staticStyle:{display:"inline","margin-top":"8px"},on:{click:e.goBack}},[e._v("Go Back")])]),e.showButtons?a("div",{staticClass:"media-collection"},[a("button",{staticClass:"button is-primary is-large is-outlined metric",on:{click:e.showNumberOfSessions}},[e._v("Number of Sessions")]),a("button",{staticClass:"button is-primary is-large is-outlined metric"},[e._v("Length of Sessions")]),a("button",{staticClass:"button is-primary is-large is-outlined metric"},[e._v("Number of Images Viewed")]),a("button",{staticClass:"button is-primary is-large is-outlined metric"},[e._v("Time of Day")]),a("button",{staticClass:"button is-primary is-large is-outlined metric"},[e._v("Time Between Sessions")]),a("button",{staticClass:"button is-primary is-large is-outlined metric"},[e._v("Total Wear Time")]),a("button",{staticClass:"button is-primary is-large is-outlined metric"},[e._v("Skipped Days")]),a("button",{staticClass:"button is-primary is-large is-outlined metric"},[e._v("Wear Window")]),a("button",{staticClass:"button is-primary is-large is-outlined metric"},[e._v("False Starts")])]):a("div",[this.numberOfSessions?a("NumberOfSessions"):e._e()],1)])},za=[],Ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"text-align":"center"}},[a("ChartForm"),a("svg",{staticClass:"chart",attrs:{height:e.height,width:e.width}})],1)},Ya=[],Va=(a("d81d"),a("5698")),Ja=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",staticStyle:{"padding-bottom":"30px"},attrs:{id:"media"}},[a("h2",{staticClass:"is-size-3"},[e._v("Users")]),a("div",{staticClass:"user-container"},e._l(e.users,(function(e){return a("UserSelect",{key:e.id,staticClass:"user-item",attrs:{user:e}})})),1),a("h2",{staticClass:"is-size-3"},[e._v("Timeline")]),a("div",{staticClass:"code-container"},[a("div",{staticClass:"time-selector-container"},[a("label",[e._v("From:")]),a("input",{staticClass:"time-selector",attrs:{type:"date"},on:{change:e.setFrom}})]),a("div",{staticClass:"time-selector-container"},[a("label",[e._v("To:")]),a("input",{staticClass:"time-selector",attrs:{type:"date"},on:{change:e.setTo}})])]),a("div",{staticStyle:{"text-align":"center"}},[a("button",{staticClass:"button is-primary is-large",class:{"is-loading":e.loadingData},staticStyle:{width:"400px"},on:{click:e.searchLogs}},[e._v("Search")])])])},Ga=[],Xa={name:"ChartForm",components:{UserSelect:va},data:function(){return{loadingData:!1}},computed:{users:function(){return this.$store.getters.getUsers},codes:function(){return this.$store.getters.getLoggingCodes}},methods:{searchLogs:function(){var e=this;return Object(G["a"])(regeneratorRuntime.mark((function t(){var a,n,s,r,i,o,c,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.$store.getters.getLogFormCodes,n=e.$store.getters.getLogFormUser,s=e.$store.getters.getToken,r=e.$store.getters.getLogFormFrom,i=e.$store.getters.getLogFormTo,o=e.$store.getters.getLogPageRequestAmount,c=e.$store.getters.getLogPageSize,null==n||null==s){t.next=15;break}return e.loadingData=!0,e.$store.commit("resetLogs"),t.next=12,te.searchLogs(s,a,n,1,o,c,r,i);case 12:if(u=t.sent,u.pages.length>0){for(l=0;l<u.pages.length;l++)null!=u.pages&&e.$store.commit("addLogPage",u.pages[l]);e.$store.commit("setLogPageAdded",u.pages[u.pages.length-1].index),e.$store.commit("setLastPage",u.totalPages)}e.loadingData=!1;case 15:case"end":return t.stop()}}),t)})))()},setFrom:function(e){this.$store.commit("setLogFormFrom",Number(new Date(e.target.value).getTime()))},setTo:function(e){var t=new Date(e.target.value),a=new Date("".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate(),"T23:59:59.999Z"));this.$store.commit("setLogFormTo",Number(a))}}},Qa=Xa,Ha=(a("3ed3"),Object(he["a"])(Qa,Ja,Ga,!1,null,"55bdf07c",null)),Ka=Ha.exports,Wa={name:"NumberOfSessions",components:{ChartForm:Ka},mounted:function(){var e=this;return Object(G["a"])(regeneratorRuntime.mark((function t(){var a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="m",n=e.$store.getters.getToken,t.next=4,te.numberOfSessions(n,"5db6ed2a18eef30011ee2a9a",a,15722208e5,1575331199999);case 4:return s=t.sent,console.log("whar"),console.log(e.data),console.log(s),t.abrupt("return",e.renderChart(s,a));case 9:case"end":return t.stop()}}),t)})))()},data:function(){return{data:{maxSession:6,chartData:[{timestamp:"11/24",sessions:0},{timestamp:"11/25",sessions:2},{timestamp:"11/26",sessions:3},{timestamp:"11/27",sessions:4},{timestamp:"11/28",sessions:1},{timestamp:"11/29",sessions:3},{timestamp:"11/30",sessions:0},{timestamp:"11/31",sessions:0},{timestamp:"12/01",sessions:3},{timestamp:"12/02",sessions:1},{timestamp:"12/03",sessions:2},{timestamp:"12/04",oldtimestamp:15748992e5,sessions:3},{timestamp:"12/05",oldtimestamp:15748992e5,sessions:0},{timestamp:"12/06",oldtimestamp:15748992e5,sessions:4},{timestamp:"12/07",oldtimestamp:15748992e5,sessions:5},{timestamp:"12/08",oldtimestamp:15748992e5,sessions:6},{timestamp:"12/09",oldtimestamp:15748992e5,sessions:3},{timestamp:"12/10",oldtimestamp:15748992e5,sessions:2},{timestamp:"12/11",oldtimestamp:15748992e5,sessions:3},{timestamp:"12/12",oldtimestamp:15748992e5,sessions:0},{timestamp:"12/13",oldtimestamp:15748992e5,sessions:0},{timestamp:"12/14",oldtimestamp:15748992e5,sessions:4},{timestamp:"12/15",oldtimestamp:15748992e5,sessions:3},{timestamp:"12/16",oldtimestamp:15748992e5,sessions:2},{timestamp:"12/17",oldtimestamp:15748992e5,sessions:1},{timestamp:"12/18",oldtimestamp:15748992e5,sessions:4}]},showTags:!1,height:600,width:600}},methods:{renderChart:function(e,t){var a=60,n=1e3,s=600,r=1e3-2*a,i=600-2*a,o=Va["f"](".chart").attr("width",n).attr("height",s);this.chart=o.append("g").attr("transform","translate(".concat(a,", ").concat(a,")"));var c=Va["e"]().range([i,0]).domain([0,e.maxSession]);this.chart.append("g").call(Va["b"](c).ticks(e.maxSession));var u=Va["d"]().range([0,r]).domain(e.chartData.map((function(e){return e.timestamp}))).padding(.2);this.chart.append("g").attr("transform","translate(0, ".concat(i,")")).call(Va["a"](u));var l=this.chart.selectAll("rect").data(e.chartData).enter();l.append("rect").attr("class","bar").attr("x",(function(e){return u(e.timestamp)})).attr("y",(function(e){return c(e.sessions)})).attr("height",(function(e){return i-c(e.sessions)})).attr("width",u.bandwidth()+10).attr("x",(function(e){return u(e.timestamp)-5})).style("fill",Va["c"]("steelblue")).attr("text-anchor","middle").attr("opacity",.6),o.append("text").attr("class","label").attr("x",-i/2-a).attr("y",a/2.4).attr("transform","rotate(-90)").attr("text-anchor","middle").text("Number of Sessions"),"d"==t?o.append("text").attr("class","label").attr("x",r/2+a).attr("y",i+1.7*a).attr("text-anchor","middle").text("Days"):"w"==t?o.append("text").attr("class","label").attr("x",r/2+a).attr("y",i+1.7*a).attr("text-anchor","middle").text("Weeks"):"m"==t&&o.append("text").attr("class","label").attr("x",r/2+a).attr("y",i+1.7*a).attr("text-anchor","middle").text("Months")}},computed:{}},qa=Wa,Za=(a("4f93"),Object(he["a"])(qa,Ba,Ya,!1,null,"30c2dc8e",null)),en=Za.exports,tn={name:"PieceEngagement",components:{NumberOfSessions:en},data:function(){return{pageTitle:"Piece Engagement",numberOfSessions:!1,lengthOfSessions:!1,numberOfImagesViewed:!1,timeOfDay:!1,timeBetweenSessions:!1,totalWearTime:!1,skippedDays:!1,wearWindow:!1,falseStarts:!1}},computed:{showButtons:function(){return!this.numberOfSessions&&!this.lengthOfSessions&&!this.numberOfImagesViewed&&!this.timeOfDay&&!this.timeBetweenSessions&&!this.totalWearTime&&!this.skippedDays&&!this.wearWindow&&!this.falseStarts}},methods:{goBack:function(){this.pageTitle="Piece Engagement",this.numberOfSessions=!1,this.lengthOfSessions=!1,this.numberOfImagesViewed=!1,this.timeOfDay=!1,this.timeBetweenSessions=!1,this.totalWearTime=!1,this.skippedDays=!1,this.wearWindow=!1,this.falseStarts=!1},showNumberOfSessions:function(){this.pageTitle="Number of Sessions",this.numberOfSessions=!0}}},an=tn,nn=(a("9690"),Object(he["a"])(an,Ua,za,!1,null,"672c2203",null)),sn=nn.exports,rn={name:"app",components:{FooterBar:ua,Notification:Le,Devices:na,NavTabs:Jt,Media:Ft,AuthForm:Be,Title:be,LogForm:Ia,LogsTable:Fa,LogItem:Da,PieceEngagement:sn},data:function(){return{active:{logs:!0,piece:!1,content:!1,website:!1}}},computed:{isLoggedIn:function(){return this.$store.getters.getToken}},methods:{tabUpdate:function(e){var t=this;Object.keys(this.active).forEach((function(e){t.active[e]=!1})),this.active[e]=!0}},mounted:function(){var e=this;return Object(G["a"])(regeneratorRuntime.mark((function t(){var a,n,s,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=me.get("authToken"),!a){t.next=50;break}return e.$store.commit("updateToken",a),t.prev=3,t.next=6,te.getUserLogsAmount(e.$store.getters.getToken);case 6:return n=t.sent,e.$store.commit("setUsers",n),e.$store.commit("addLoggingCode","WAKE_UP"),e.$store.commit("addLoggingCode","CONTENT_DISPLAYED"),e.$store.commit("addLoggingCode","SLEEP"),e.$store.commit("addLoggingCode","ACTIVITY_STARTED"),e.$store.commit("addLoggingCode","ACTIVITY_TERMINATED"),e.$store.commit("addLoggingCode","CHARGER_CONNECTED"),e.$store.commit("addLoggingCode","CHARGER_DISCONNECTED"),e.$store.commit("addLoggingCode","PULLED_CONTENT"),e.$store.commit("addLoggingCode","PUSHED_LOGS"),e.$store.commit("addLoggingCode","NEW_CONTENT_ADDED"),e.$store.commit("addLoggingCode","CONTENT_REMOVED"),e.$store.commit("addLoggingCode","STARTED_WATCHFACE"),e.$store.commit("addLoggingCode","STOPPED_WATCHFACE"),e.$store.commit("addLoggingCode","REGISTER"),e.$store.commit("addLoggingCode","LOGIN"),e.$store.commit("addLoggingCode","LOGIN_DEVICE"),e.$store.commit("addLoggingCode","NEW_MEDIA"),e.$store.commit("addLoggingCode","DEL_MEDIA"),e.$store.commit("addLoggingCode","GET_MEDIA"),e.$store.commit("addLoggingCode","GET_INF_MEDIA"),e.$store.commit("addLoggingCode","RECEIVED_LOGS"),e.$store.commit("addLoggingCode","WEBSITE"),e.$store.commit("addLoggingCode","PIECE"),e.$store.commit("addLoggingCode","ALL"),t.next=34,te.getAllMedia(e.$store.getters.getToken);case 34:return s=t.sent,e.$store.commit("updateMedia",s),t.next=38,te.getDevices(e.$store.getters.getToken);case 38:return r=t.sent,e.$store.commit("updateDevices",r),t.next=42,te.getAllTags(e.$store.getters.getToken);case 42:i=t.sent,e.$store.commit("addTags",i),t.next=50;break;case 46:t.prev=46,t.t0=t["catch"](3),console.log(t.t0),ge.setNotification("danger","Something went wrong");case 50:case"end":return t.stop()}}),t,null,[[3,46]])})))()}},on=rn,cn=(a("794c"),Object(he["a"])(on,ce,ue,!1,null,null,null)),un=cn.exports;n["a"].use(s["a"]),n["a"].config.productionTip=!1,new n["a"]({store:oe,render:function(e){return e(un)}}).$mount("#app")},"794c":function(e,t,a){"use strict";var n=a("fb77"),s=a.n(n);s.a},"7a2c":function(e,t,a){"use strict";var n=a("cdf7"),s=a.n(n);s.a},8623:function(e,t,a){"use strict";var n=a("c980"),s=a.n(n);s.a},"8d06":function(e,t,a){},"8d4c":function(e,t,a){"use strict";var n=a("3b08"),s=a.n(n);s.a},"917a":function(e,t,a){"use strict";var n=a("daec"),s=a.n(n);s.a},9345:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAIAAAAiOjnJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAd4SURBVHhe7d2JUhpZGIZh2WRHQSJuMfd/N15ByomKCi6grLI4f+OZBMFKEPkmePp9yppwOoRiKm91nz7dkMjJyckGsGpR9yuwUoQFCcKCBGFBgrAgQViQICxIEBYkCAsShAUJwoIEYUGCsCBBWJAgLEgQFiQICxKEBQnCggRhQYKwIEFYkCAsSBAWJAgLEoQFCcKCBGFBgrAgQViQICxIEBYkCAsShAUJwoIEYUGCsCBBWJAgLEgQFiQICxKEBQnCggRhQYKwIEFYkCAsSBAWJAgLEoQFCcKCBGFBgrAgQViQICxIEBYkCAsShAUJwoIEYUGCsCBBWJAgLEgQFiQICxKEBQnCggRhQYKwIEFYkCAsSBAWJCInJyfuYeh1Op1et9vtdNz4PdKZTDabTaZSbhx6hBV4fn6+v71tNBrD4dBter94PL69vV3c2YlEIm5TiHEodFXd3Nx8pCpjf9xe5P7uzl7QbQoxwtqww58F4QYfdlOvtx4f3SDEwh7WeDxu3N+7wYo8NJvstMIe1uDpqdfrucGK9Pv9p6cnNwirsIdlZ4GDwcANVsQmW5122w3CKuxhNZtN92ilbAo/Ho3cIJQ8X24YDgbtdtv+a4en+XnPaDSyY5ZNs9x4dSKRSDqdfnPdIZ5I2G/lcrloLOY2+cjbsCyX1oNNo5s2hVq3qbQFl0ql8oVCYWsrGvXzoOHtodBO+6+vr20KtYYnaPaW7I3VazV7i26TdzwMy/7abmq1xv39GiY1zd6e7VAtLzf2i4dh2c6g0Wi4wdqzab4dst3AI76FFewGGg3FfFznwceVet/CsrO8/qoXPNXsDfu3oOpbWKMJN/gkgnf8sevfa8i3sMYrDSsajWay2WKpVNnbOzg8tB97YMN0JrPCe2PswL3C97wmfFvHaj0+Vi8u3GBZFk08Hs9ms7lCIZVMzq9kWgi9fr/Tsmn3gzXx8dNPSzaXz7uBFzw8K/y40s7O0devu3t7mUzmzfVx22i/Vd7dPf72zZ7stmIKYb2ymUweHh3tlMuJzU236bfiiYQ92SpMJBJuEyYI65d0Ol2pVLK5nBsvzOZhB0dHFqUbg7B+sknVbqVis3I3/o9NoZ76fZu63dTr9vP48NDv9+fn2slkcv/gwF7EjUOPsBw715vZ5diUPDgVOD//5/TUTgjubm/t57Ja/XF6enF21m61Zubsm5ubpVLJDUKPsAI2E7ewplcQRsNhvVaznuYvY9uw1+tdnJ/Xrq6ml/jtj2+XSnY8deNwI6xgsWq7WHSDifFodHV52fzTBcdms2n7s5m1TTtJXOES1+dFWMH0yGbfbjBxf3e34P029jQ7PrrBhM3S2GkZwgrCmr7bbjgYNBa+jG3xBWukUzsteynCMmEPyw5bM+sLL4vpbrAAe/LMTiu10gs+n1TYw4rH47GpNQKrZIkP2MwcN5N2frjY+qrHwh5WLBaLT1+0eX5e4tNgw+Fw5jM57LGYY61AENaHr0N7hrBWIJFIRFlieC3sYdnZ3/T0KBKNLnE5OZhRTYUVvGLod2BhD8tm68YNJnOj5PuvJQd7rKkFi5EdGr27I/S9CGtk53RuMAlrifurCltb07P1N69Shw1zrGDhyj2aiMXjO+WyG/yJ9WRPTr1eERV9H8TnQlgbwV0xrZYbTAStLPZtoplstlAouMFEp93275MRSyCsyUcR5z42vVup5PP56ZnTDNtX5XK58ut7Te1FHh8emGAZwgq02+2ZBXc7uu0dHOzt78feuufdNtpUzJ4w8zXJ7VaL4+ALPqXj2M7p6/Hxm9+n3et2e73eYPKZ0ngiMX83xIt+r3dZrS730VM+peOt8XhsWbz5KWrbe20Xi18qFfsplkpvVmU7vNr1Nd8Q+RNh/WJZVKtVO5y58cIsx3qtNr1sAcJ6xY53V5eXi3/tcTDxbzTOz876/b7bhAnCmjWa3Jd8+v37bb1usyu3dU6307m9uTn/8eP66orl0HlM3n/HZvSJzc3s5MY9m7bbluFgYHupdqdjD2auM36Ef5N338LqdDrV8/MFbyxeE1bt/sEBZ4VrLbgj9LN9G3HCeHfHqXdhxWJL3J7wd9kbfnUXqxd8Cysai20Xi9P3Gqw5m8YVtram77v3g4dnhal0eubC8DrL5/PzXxjhAQ/Dsn1A+cuXT/G3lUqldsrl31zq/rw8/F8ydmT5eny8W6kscZ/x/8PmVVb/4dHRyyqGf7z9J09ejIbDbrfbXqd7pCz6l3892k5gP9Fc8L08Dwt/i5+HQvx1hAUJwoIEYUGCsCBBWJAgLEgQFiQICxKEBQnCggRhQYKwIEFYkCAsSBAWJAgLEoQFCcKCBGFBgrAgQViQICxIEBYkCAsShAUJwoIEYUGCsCBBWJAgLEgQFiQICxKEBQnCggRhQYKwIEFYkCAsSBAWJAgLEoQFCcKCBGFBgrAgQViQICxIEBYkCAsShAUJwoIEYUGCsCBBWJAgLEgQFiQICxKEBQnCggRhQYKwIEFYkCAsSBAWJAgLEoQFCcKCBGFBgrAgQViQICxIEBYkCAsCGxv/AlfMz/FUnCYQAAAAAElFTkSuQmCC"},"93f2":function(e,t,a){},9690:function(e,t,a){"use strict";var n=a("e0f1"),s=a.n(n);s.a},"9b8c":function(e,t,a){},"9f0a":function(e,t,a){"use strict";var n=a("9b8c"),s=a.n(n);s.a},a1f4:function(e,t,a){},aaca:function(e,t,a){"use strict";var n=a("4f84"),s=a.n(n);s.a},ab63:function(e,t,a){},adc9:function(e,t,a){},b1ed:function(e,t,a){"use strict";var n=a("c5b5"),s=a.n(n);s.a},b2d4:function(e,t,a){},b5b9:function(e,t,a){"use strict";var n=a("735b"),s=a.n(n);s.a},b5fd:function(e,t,a){"use strict";var n=a("2ef1"),s=a.n(n);s.a},bd54:function(e,t,a){"use strict";var n=a("93f2"),s=a.n(n);s.a},bdc6:function(e,t,a){"use strict";var n=a("ec21"),s=a.n(n);s.a},bdce:function(e,t,a){},be01:function(e,t,a){},bf1a:function(e,t,a){"use strict";var n=a("ab63"),s=a.n(n);s.a},c163:function(e,t,a){"use strict";var n=a("8d06"),s=a.n(n);s.a},c55b:function(e,t,a){"use strict";var n=a("f123"),s=a.n(n);s.a},c5b5:function(e,t,a){},c60d:function(e,t,a){"use strict";var n=a("be01"),s=a.n(n);s.a},c980:function(e,t,a){},cdf7:function(e,t,a){},daec:function(e,t,a){},dbfe:function(e,t,a){"use strict";var n=a("a1f4"),s=a.n(n);s.a},e0f1:function(e,t,a){},eb52:function(e,t,a){"use strict";var n=a("0b7f"),s=a.n(n);s.a},ec21:function(e,t,a){},f06e:function(e,t,a){},f09c:function(e){e.exports=JSON.parse('[{"name":"anger","children":[{"name":"rage","children":[{"name":"hate"},{"name":"hostile"}]},{"name":"exasperated","children":[{"name":"agitated"},{"name":"frustrated"}]},{"name":"irritable","children":[{"name":"annoyed"},{"name":"aggravated"}]},{"name":"envy","children":[{"name":"resentful"},{"name":"jealous"}]},{"name":"disgust","children":[{"name":"contempt"},{"name":"revolted"}]}]},{"name":"sadness","children":[{"name":"suffering","children":[{"name":"agony"},{"name":"hurt"}]},{"name":"sadness","children":[{"name":"depressed"},{"name":"sorrow"}]},{"name":"disappointed","children":[{"name":"dismayed"},{"name":"displeased"}]},{"name":"shameful","children":[{"name":"regretful"},{"name":"guilty"}]},{"name":"neglected","children":[{"name":"isolated"},{"name":"lonely"}]},{"name":"despair","children":[{"name":"grief"},{"name":"powerless"}]}]},{"name":"surprise","children":[{"name":"stunned","children":[{"name":"shocked"},{"name":"dismayed"}]},{"name":"confused","children":[{"name":"disillusioned"},{"name":"perplexed"}]},{"name":"amazed","children":[{"name":"astonished"},{"name":"awe-struck"}]},{"name":"overcome","children":[{"name":"speechless"},{"name":"astounded"}]},{"name":"moved","children":[{"name":"stimulated"},{"name":"touched"}]}]},{"name":"joy","children":[{"name":"content","children":[{"name":"pleased"},{"name":"satisfied"}]},{"name":"happy","children":[{"name":"amused"},{"name":"delighted"}]},{"name":"cheerful","children":[{"name":"jovial"},{"name":"blissful"}]},{"name":"proud","children":[{"name":"triumphant"},{"name":"illustrious"}]},{"name":"optimistic","children":[{"name":"eager"},{"name":"hopeful"}]},{"name":"enthusiastic","children":[{"name":"zeal"},{"name":"excited"}]},{"name":"elation","children":[{"name":"jubilation"},{"name":"euphoric"}]},{"name":"enthralled","children":[{"name":"rapture"},{"name":"enchanted"}]}]},{"name":"love","children":[{"name":"affectionate","children":[{"name":"fondness"},{"name":"romantic"}]},{"name":"longing","children":[{"name":"attracted"},{"name":"sentimental"}]},{"name":"desire","children":[{"name":"infatuation"},{"name":"passion"}]},{"name":"tenderness","children":[{"name":"compassionate"},{"name":"caring"}]},{"name":"peaceful","children":[{"name":"satisfied"},{"name":"relieved"}]}]},{"name":"fear","children":[{"name":"scared","children":[{"name":"helpless"},{"name":"frightened"}]},{"name":"terror","children":[{"name":"panic"},{"name":"hysterical"}]},{"name":"insecure","children":[{"name":"inferior"},{"name":"inadequate"}]},{"name":"nervous","children":[{"name":"worried"},{"name":"anxious"}]},{"name":"horror","children":[{"name":"dread"},{"name":"mortified"}]}]}]')},f123:function(e,t,a){},f4fa:function(e,t,a){"use strict";var n=a("f06e"),s=a.n(n);s.a},fb77:function(e,t,a){}});
//# sourceMappingURL=logs.e5fb9ebe.js.map