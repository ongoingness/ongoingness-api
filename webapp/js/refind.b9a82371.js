(function(e){function t(t){for(var n,r,o=t[0],c=t[1],u=t[2],d=0,m=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(m.length)m.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},s={refind:0},i=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("5f15")},"052f":function(e,t,a){"use strict";var n=a("bbaf"),s=a.n(n);s.a},"07b7":function(e,t,a){},"10b4":function(e,t,a){"use strict";var n=a("9621"),s=a.n(n);s.a},1270:function(e,t,a){"use strict";var n=a("e325"),s=a.n(n);s.a},1325:function(e,t,a){"use strict";var n=a("e3ba"),s=a.n(n);s.a},"20e2":function(e,t,a){},2519:function(e,t,a){},"2b02":function(e,t,a){},"2d56":function(e,t,a){},"2ecc":function(e,t,a){"use strict";var n=a("20e2"),s=a.n(n);s.a},"2f47":function(e,t,a){},3806:function(e){e.exports=JSON.parse('{"register":{"data":{"code":200,"message":"success","errors":false,"payload":{"user":{"devices":[],"media":[],"_id":"5c4f07868a727300111ef4ba","iv":"fe89db32ed3d8f21d79bb8b813af5e68","username":"username","password":"2798a5b5f39cc56fe0a808d8b681b16a5c2057fdee21340f9866e9867f86e73e","createdAt":"2019-01-28T13:45:42.445Z","updatedAt":"2019-01-28T13:45:42.445Z","__v":0},"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVjNGYwNzg2OGE3MjczMDAxMTFlZjRiYSIsInVzZXJuYW1lIjoidXNlcm5hbWUiLCJpYXQiOjE1NDg2ODMxNDIsImV4cCI6MTU0ODc2OTU0Mn0.oSpXzGJpVKxYjsH8_vliuoHQEakTiVHgXsKCGjhI7_s"}},"status":200,"statusText":"OK","headers":{"content-type":"application/json; charset=utf-8"},"config":{"transformRequest":{},"transformResponse":{},"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"},"method":"post","url":"https://ongoingness-api.openlab.ncl.ac.uk/api/auth/register","data":"{\\"username\\":\\"username\\",\\"password\\":\\"password\\"}"},"request":{"upload":{"_ownerDocument":{"location":{"href":"http://localhost/","origin":"http://localhost","protocol":"http:","host":"localhost","hostname":"localhost","port":"","pathname":"/","search":"","hash":""}}},"_registeredHandlers":{},"_eventHandlers":{}}},"authenticate":{"data":{"code":200,"message":"success","errors":false,"payload":{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVjNGYwNzg2OGE3MjczMDAxMTFlZjRiYSIsInVzZXJuYW1lIjoidXNlcm5hbWUiLCJpYXQiOjE1NDg2ODMxNDIsImV4cCI6MTU0ODc2OTU0Mn0.oSpXzGJpVKxYjsH8_vliuoHQEakTiVHgXsKCGjhI7_s"}},"status":200,"statusText":"OK","headers":{"content-type":"application/json; charset=utf-8"},"config":{"transformRequest":{},"transformResponse":{},"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"},"method":"post","url":"https://ongoingness-api.openlab.ncl.ac.uk/api/auth/authenticate","data":"{\\"username\\":\\"username\\",\\"password\\":\\"password\\"}"},"request":{"upload":{"_ownerDocument":{"location":{"href":"http://localhost/","origin":"http://localhost","protocol":"http:","host":"localhost","hostname":"localhost","port":"","pathname":"/","search":"","hash":""}}},"_registeredHandlers":{},"_eventHandlers":{}}},"get_user":{"data":{"code":200,"message":"success","errors":false,"payload":{"user":{"devices":[],"media":[],"_id":"5c4f07868a727300111ef4ba","iv":"fe89db32ed3d8f21d79bb8b813af5e68","username":"username","password":"2798a5b5f39cc56fe0a808d8b681b16a5c2057fdee21340f9866e9867f86e73e","createdAt":"2019-01-28T13:45:42.445Z","updatedAt":"2019-01-28T13:45:42.445Z","__v":0}}},"status":200,"statusText":"OK","headers":{"content-type":"application/json; charset=utf-8"},"config":{"transformRequest":{},"transformResponse":{},"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"headers":{"Accept":"application/json, text/plain, */*","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVjNGYwNzg2OGE3MjczMDAxMTFlZjRiYSIsInVzZXJuYW1lIjoidXNlcm5hbWUiLCJpYXQiOjE1NDg2ODMxNDIsImV4cCI6MTU0ODc2OTU0Mn0.oSpXzGJpVKxYjsH8_vliuoHQEakTiVHgXsKCGjhI7_s"},"method":"get","url":"https://ongoingness-api.openlab.ncl.ac.uk/api/user/me"},"request":{"upload":{"_ownerDocument":{"location":{"href":"http://localhost/","origin":"http://localhost","protocol":"http:","host":"localhost","hostname":"localhost","port":"","pathname":"/","search":"","hash":""}}},"_registeredHandlers":{},"_eventHandlers":{}}},"delete_user":{"data":{"code":200,"message":"success","errors":false,"payload":{}},"status":200,"statusText":"OK","headers":{"content-type":"application/json; charset=utf-8"},"config":{"transformRequest":{},"transformResponse":{},"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"headers":{"Accept":"application/json, text/plain, */*","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVjNGYwNzg2OGE3MjczMDAxMTFlZjRiYSIsInVzZXJuYW1lIjoidXNlcm5hbWUiLCJpYXQiOjE1NDg2ODMxNDIsImV4cCI6MTU0ODc2OTU0Mn0.oSpXzGJpVKxYjsH8_vliuoHQEakTiVHgXsKCGjhI7_s"},"method":"delete","url":"https://ongoingness-api.openlab.ncl.ac.uk/api/user/5c4f07868a727300111ef4ba"},"request":{"upload":{"_ownerDocument":{"location":{"href":"http://localhost/","origin":"http://localhost","protocol":"http:","host":"localhost","hostname":"localhost","port":"","pathname":"/","search":"","hash":""}}},"_registeredHandlers":{},"_eventHandlers":{}}},"all_media":{"data":{"code":200,"message":"success","errors":false},"status":200,"statusText":"OK","headers":{"content-type":"application/json; charset=utf-8"},"config":{"transformRequest":{},"transformResponse":{},"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"headers":{"Accept":"application/json, text/plain, */*","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVjNGYwNzg2OGE3MjczMDAxMTFlZjRiYSIsInVzZXJuYW1lIjoidXNlcm5hbWUiLCJpYXQiOjE1NDg2ODMxNDIsImV4cCI6MTU0ODc2OTU0Mn0.oSpXzGJpVKxYjsH8_vliuoHQEakTiVHgXsKCGjhI7_s"},"method":"get","url":"http://localhost:3000/api/media"},"request":{"upload":{"_ownerDocument":{"location":{"href":"http://localhost/","origin":"http://localhost","protocol":"http:","host":"localhost","hostname":"localhost","port":"","pathname":"/","search":"","hash":""}}},"_registeredHandlers":{},"_eventHandlers":{}}}}')},"3eb0":function(e,t,a){},"478f":function(e,t,a){"use strict";var n=a("d8d9"),s=a.n(n);s.a},"48a5":function(e,t,a){"use strict";var n=a("e598"),s=a.n(n);s.a},"5eb4":function(e,t,a){"use strict";var n=a("982d"),s=a.n(n);s.a},"5f15":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("92c6"),a("2f47");var n=a("2b0e"),s=a("2f62"),i={token:null},r={updateToken:function(e,t){e.token=t}},o={},c={getToken:function(e){return e.token}},u={state:i,mutations:r,actions:o,getters:c},l=(a("7db0"),a("c740"),a("a434"),{media:[]}),d={updateMedia:function(e,t){e.media=t},addMedia:function(e,t){e.media.push(t.payload)},removeMedia:function(e,t){var a=e.media.findIndex((function(e){return e._id===t}));e.media.splice(a,1)}},m={},p={getMedia:function(e){return e.media},getMediaById:function(e){return function(t){return e.media.find((function(e){return e._id===t}))}}},h={state:l,mutations:d,actions:m,getters:p},f={devices:[]},g={updateDevices:function(e,t){e.devices=t},addDevice:function(e,t){e.devices.push(t)},removeDevice:function(e,t){var a=e.devices.findIndex((function(e){return e._id===t}));e.devices.splice(a,1)}},v={},b={getDevices:function(e){return e.devices},getDeviceById:function(e){return function(t){return e.devices.find((function(e){return e._id===t}))}}},_={state:f,mutations:g,actions:v,getters:b},w={message:"",visible:!1,type:"info"},k={setNotificationMessage:function(e,t){e.message=t},setNotificationVisibility:function(e,t){e.visible=t},setNotificationType:function(e,t){e.type=t}},x={},C={getNotificationMessage:function(e){return e.message},getNotificationVisibility:function(e){return e.visible},getNotificationType:function(e){return e.type}},y={state:w,mutations:k,actions:x,getters:C},T={user:null},j={updateUser:function(e,t){e.user=t}},N={},O={getUser:function(e){return e.user}},I={state:T,mutations:j,actions:N,getters:O},R=(a("b0c0"),{tags:[],time_tags:[],places_tags:[],people_tags:[]}),M={addTags:function(e,t){for(var a=0;a<t.tags.length;a++)e.tags.push(t.tags[a].name);for(var n=0;n<t.time.length;n++)e.time_tags.push(t.time[n].value);for(var s=0;s<t.places.length;s++)e.places_tags.push(t.places[s].name);for(var i=0;i<t.people.length;i++)e.people_tags.push(t.people[i].name);e.tags.sort(D),e.time_tags.sort(D),e.places_tags.sort(D),e.people_tags.sort(D)}};function D(e,t){return e<t?-1:e>t?1:0}var E={},$={getTags:function(e){return e.tags},getTimeTags:function(e){return e.time_tags},getPlacesTags:function(e){return e.places_tags},getPeopleTags:function(e){return e.people_tags}},U={state:R,mutations:M,actions:E,getters:$};n["a"].use(s["a"]);var A=new s["a"].Store({modules:{auth:u,media:h,device:_,notification:y,user:I,tags:U}}),S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Title"),e.isLoggedIn?e._e():a("AuthForm"),e.isLoggedIn?a("NavTabs",{on:{"on-update":e.tabUpdate}}):e._e(),e.isLoggedIn?a("div",[e.active.media?a("Media"):e._e(),e.active.devices?a("Devices"):e._e()],1):e._e(),a("Notification"),a("FooterBar")],1)},X=[],z=(a("4160"),a("b64b"),a("159b"),a("96cf"),a("1da1")),J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"title"}},[a("section",{staticClass:"hero is-medium is-light has-text-centered"},[a("div",{staticClass:"hero-head has-text-right"},[a("div",{staticClass:"container"},[e.isLoggedIn?a("button",{staticClass:"button",on:{click:e.logout}},[e._v("Logout")]):e._e(),e.isLoggedIn?a("button",{staticClass:"button is-danger is-outlined",on:{click:e.deleteAccount}},[e._v("Delete Account")]):e._e()])]),e._m(0)])])},L=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container"},[a("h1",{staticClass:"title"},[e._v("Ongoingness")]),a("div",[e._v("Refind")])])])}],V=(a("99af"),a("ac1f"),a("1276"),a("d4ec")),H=a("bee2"),P=function(){function e(){Object(V["a"])(this,e)}return Object(H["a"])(e,null,[{key:"get",value:function(e){var t="; ".concat(document.cookie),a=t.split("; ".concat(e,"="));return 2===a.length?a.pop().split(";").shift():null}},{key:"delete",value:function(){document.cookie="authToken=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}},{key:"set",value:function(e){var t=new Date;t.setDate(t.getDate()+1),document.cookie="".concat(encodeURIComponent("authToken"),"=","".concat(encodeURIComponent(e),"; expires=").concat(t))}}]),e}(),G=a("ade3"),Y=a("bc3a"),K=a.n(Y),F=a("5a30"),q=a("3806");function Z(){return!1}var B=function(){function e(){Object(V["a"])(this,e)}return Object(H["a"])(e,null,[{key:"register",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(t,a){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t&&a){e.next=2;break}throw new Error("Username or password cannot be empty.");case 2:if(n={username:t,password:a},!Z()){e.next=5;break}return e.abrupt("return",q.register.data.payload.token);case 5:return e.next=7,K.a.post("".concat(this.URL,"/auth/register"),n);case 7:return s=e.sent,A.commit("updateUser",s.data.payload.user),e.abrupt("return",s.data.payload.token);case 10:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"authenticate",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(t,a){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t&&a){e.next=2;break}throw new Error("Username or password cannot be empty.");case 2:if(n={username:t,password:a},!Z()){e.next=5;break}return e.abrupt("return",q.authenticate.data.payload.token);case 5:return e.next=7,K.a.post("".concat(this.URL,"/auth/authenticate"),n);case 7:return s=e.sent,A.commit("updateUser",s.data.payload.user),e.abrupt("return",s.data.payload.token);case 10:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"fetchUser",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Access token is required");case 2:if(!Z()){e.next=4;break}return e.abrupt("return",q.get_user.data.payload.user);case 4:return e.next=6,K.a.get("".concat(this.URL,"/auth/me"),{headers:{"x-access-token":t}});case 6:return a=e.sent,e.abrupt("return",a.data.payload.user);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteAccount",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Access token is required");case 2:return e.next=4,this.fetchUser(t);case 4:if(a=e.sent,!Z()){e.next=7;break}return e.abrupt("return",q.delete_user.status);case 7:return e.prev=7,e.next=10,K.a.delete("".concat(this.URL,"/users/").concat(a._id),{headers:{"x-access-token":t}});case 10:return n=e.sent,e.abrupt("return",200===n.status);case 14:throw e.prev=14,e.t0=e["catch"](7),console.error(e.t0.response),e.t0;case 18:case"end":return e.stop()}}),e,this,[[7,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAllMedia",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Access token is required");case 2:if(!Z()){e.next=4;break}return e.abrupt("return",void 0===q.all_media.data.payload?[]:q.all_media.data.payload);case 4:return e.next=6,K.a.get("".concat(this.URL,"/media"),{headers:{"x-access-token":t}});case 6:return a=e.sent,e.abrupt("return",void 0===a.data.payload?[]:a.data.payload);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"uploadMedia",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(t,a,n){var s,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error("Access token required");case 2:return s=new F,s.append("file",t),i={"Content-Type":"multipart/form-data","x-access-token":n},a&&Object.keys(a).forEach((function(e){console.log(e),i[e]=a[e]})),e.next=8,K.a.post("".concat(this.URL,"/media"),s,{headers:i});case 8:return r=e.sent,console.log(r.data.payload),e.abrupt("return",r.data.payload);case 11:case"end":return e.stop()}}),e,this)})));function t(t,a,n){return e.apply(this,arguments)}return t}()},{key:"deleteMedia",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}throw new Error("Access token required");case 2:return e.next=4,K.a.delete("".concat(this.URL,"/media/").concat(t),{headers:{"x-access-token":a}});case 4:return n=e.sent,e.abrupt("return",n.data.status);case 6:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"addDevice",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}throw new Error("Access token required");case 2:return e.next=4,K.a.post("".concat(this.URL,"/devices/"),{mac:t},{headers:{"x-access-token":a}});case 4:return n=e.sent,e.abrupt("return",n.data.payload);case 6:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getDevices",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Access token required");case 2:return e.next=4,K.a.get("".concat(this.URL,"/devices/"),{headers:{"x-access-token":t}});case 4:return a=e.sent,e.abrupt("return",a.data.payload);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteDevice",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}throw new Error("Access token required");case 2:return e.next=4,K.a.delete("".concat(this.URL,"/devices/").concat(t),{headers:{"x-access-token":a}});case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getTagSuggestion",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Access token is required");case 2:return e.next=4,K.a.get("".concat(this.URL,"/media/tags?term=").concat(a),{headers:{"x-access-token":t}});case 4:return n=e.sent,e.abrupt("return",void 0===n.data.payload?[]:n.data.payload);case 6:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getAllTags",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Access token is required");case 2:return e.next=4,K.a.get("".concat(this.URL,"/media/tagsall"),{headers:{"x-access-token":t}});case 4:return a=e.sent,e.abrupt("return",void 0===a.data?[]:a.data);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();Object(G["a"])(B,"URL","https://api.enablingongoingness.com/api");var Q=function(){function e(){Object(V["a"])(this,e)}return Object(H["a"])(e,null,[{key:"setNotification",value:function(e,t){A.commit("setNotificationType",e),A.commit("setNotificationMessage",t),A.commit("setNotificationVisibility",!0)}}]),e}(),W={name:"Title",computed:{isLoggedIn:function(){return this.$store.getters.getToken}},methods:{logout:function(){this.$store.commit("updateToken",null),P.delete()},deleteAccount:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=window.confirm("Are you sure? your data cannot be recovered"),a){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,B.deleteAccount(e.$store.getters.getToken);case 6:e.$store.commit("updateToken",null),P.delete(),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](3),console.log(t.t0),Q.setNotification("danger","Something went wrong");case 14:case"end":return t.stop()}}),t,null,[[3,10]])})))()}}},ee=W,te=(a("dc16"),a("2877")),ae=Object(te["a"])(ee,J,L,!1,null,"40da96f2",null),ne=ae.exports,se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"auth-form"}},[a("div",{staticClass:"container"},[e.hasAccount?a("Login",{on:{authenticated:e.onAuthenticated}}):a("Register",{on:{authenticated:e.onAuthenticated}}),e.hasAccount?a("div",[a("p",{staticClass:"switch"},[e._v("Don't have an account?")]),a("a",{on:{click:function(t){e.hasAccount=!1}}},[e._v("Register")])]):a("div",[a("p",{staticClass:"switch"},[e._v("Have an account?")]),a("a",{on:{click:function(t){e.hasAccount=!0}}},[e._v("Sign in")])])],1)])},ie=[],re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"register"}},[a("div",{staticClass:"container"},[a("h1",{staticClass:"is-size-3"},[e._v("Register")]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Username")]),a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"input",attrs:{type:"text",placeholder:"johnsmith"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._m(0)])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Password")]),a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"secret"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._m(1)])]),a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-link",attrs:{id:"register-submit",disabled:e.isDisabled},on:{click:e.registerUser}},[e._v("Submit")])])])])])},oe=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-user"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-lock"})])}],ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],staticClass:"has-text-centered",style:{opacity:e.opacity},attrs:{id:"notification"}},[a("div",{staticClass:"notification",class:e.getClass},[a("button",{staticClass:"delete",on:{click:function(t){return e.$store.commit("setNotificationVisibility",!1)}}}),a("p",[e._v(e._s(e.message))])])])},ue=[],le={name:"Notification",data:function(){return{opacity:.5,interval:null,duration:10}},computed:{message:function(){return this.$store.getters.getNotificationMessage},isVisible:function(){return this.$store.getters.getNotificationVisibility},getClass:function(){var e=this.$store.getters.getNotificationType;switch(e){case"info":return"is-info";case"warning":return"is-warning";case"danger":return"is-danger";default:return"is-light"}}},watch:{isVisible:function(e){var t=this;if(e){clearInterval(this.interval);var a=1e3*this.duration,n=a/100,s=0;this.opacity=1,this.interval=setInterval((function(){t.opacity-=.01,s+=n,s>=a&&(clearInterval(t.interval),t.$store.commit("setNotificationVisibility",!1))}),n)}}}},de=le,me=(a("48a5"),Object(te["a"])(de,ce,ue,!1,null,"4fb7c3ae",null)),pe=me.exports,he={name:"Register",components:{Notification:pe},data:function(){return{username:"",password:""}},computed:{isDisabled:function(){return 0===this.username.length||0===this.password.length}},methods:{registerUser:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.username.length&&0!==e.password.length){t.next=2;break}throw new Error("Username or password cannot be empty.");case 2:return t.prev=2,t.next=5,B.register(e.username,e.password);case 5:a=t.sent,t.next=16;break;case 8:t.prev=8,t.t0=t["catch"](2),t.t1=t.t0.response.data.code,t.next=403===t.t1?13:15;break;case 13:return Q.setNotification("info","Username already exists"),t.abrupt("break",16);case 15:Q.setNotification("danger","Something went wrong");case 16:a&&(P.set(a),e.$store.commit("updateToken",a),e.$emit("authenticated"));case 17:case"end":return t.stop()}}),t,null,[[2,8]])})))()}}},fe=he,ge=(a("d678"),Object(te["a"])(fe,re,oe,!1,null,"5dcaa59e",null)),ve=ge.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"login"}},[a("div",{staticClass:"container"},[a("h1",{staticClass:"is-size-3"},[e._v("Login")]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Username")]),a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"input",attrs:{type:"text",placeholder:"johnsmith"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._m(0)])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Password")]),a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"secret"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._m(1)])]),a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-link",attrs:{id:"login-submit",disabled:e.submitDisabled},on:{click:e.authenticate}},[e._v("Submit")])])])])])},_e=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-user"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-lock"})])}],we={name:"Login",components:{Notification:pe},data:function(){return{username:"",password:""}},computed:{submitDisabled:function(){return 0===this.username.length||0===this.password.length}},methods:{authenticate:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.username.length&&0!==e.password.length){t.next=2;break}throw new Error("Username or password cannot be empty.");case 2:return t.prev=2,t.next=5,B.authenticate(e.username,e.password);case 5:a=t.sent,t.next=17;break;case 8:t.prev=8,t.t0=t["catch"](2),t.t1=t.t0.response.data.code,t.next=401===t.t1?13:15;break;case 13:return Q.setNotification("danger","Username or password is incorrect"),t.abrupt("break",17);case 15:return Q.setNotification("danger","Something went wrong"),t.abrupt("break",17);case 17:a&&(P.set(a),e.$store.commit("updateToken",a),e.$emit("authenticated"));case 18:case"end":return t.stop()}}),t,null,[[2,8]])})))()}}},ke=we,xe=(a("5eb4"),Object(te["a"])(ke,be,_e,!1,null,"5951b7ba",null)),Ce=xe.exports,ye={name:"AuthForm",components:{Login:Ce,Register:ve},data:function(){return{hasAccount:!0}},methods:{onAuthenticated:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.getAllMedia(e.$store.getters.getToken);case 3:return a=t.sent,e.$store.commit("updateMedia",a),t.next=7,B.getDevices(e.$store.getters.getToken);case 7:a=t.sent,e.$store.commit("updateDevices",a),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),Q.setNotification("danger","Something went wrong");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}}},Te=ye,je=(a("10b4"),Object(te["a"])(Te,se,ie,!1,null,"ab56f7c4",null)),Ne=je.exports,Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"media"}},[a("h2",{staticClass:"is-size-3"},[e._v("Media")]),a("UploadMedia"),a("h2",{staticClass:"is-size-4"},[e._v("Your Tags"),a("div",{staticClass:"hide-buttons"},[e.showTags?a("button",{staticClass:"button",on:{click:e.submit}},[e._v("Hide Tags")]):a("button",{staticClass:"button",on:{click:e.submit}},[e._v("Show Tags")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showTags,expression:"showTags"}],staticClass:"media-collection"},[e._l(e.timeTags,(function(e){return a("TagTime",{attrs:{tagname:e}})})),e._l(e.tags,(function(e){return a("TagGeneral",{attrs:{tagname:e}})})),e._l(e.placeTags,(function(e){return a("TagPlace",{attrs:{tagname:e}})})),e._l(e.peopleTags,(function(e){return a("TagPeople",{attrs:{tagname:e}})}))],2),a("h2",{staticClass:"is-size-4"},[e._v("Your Media")]),e.presentMedia.length>0||e.pastMedia.length>0?a("div",{staticClass:"all-media"},[a("h2",{staticClass:"is-size-4 media-header"},[e._v("Present Media")]),a("p",[e._v("This is your media from the present. Every time a new present media is uploaded, a new set of past media is sent to the piece.")]),a("div",{staticClass:"media-collection"},e._l(e.presentMedia,(function(e){return a("MediaItem",{key:e.id,staticClass:"media-item",attrs:{media:e}})})),1),a("h2",{staticClass:"is-size-4 media-header"},[e._v("Past Media")]),a("p",[e._v("This is your media from the past. The Refind will show 5 pieces of media you upload here.")]),a("div",{staticClass:"media-collection"},e._l(e.pastMedia,(function(e){return a("MediaItem",{key:e.id,staticClass:"media-item",attrs:{media:e}})})),1)]):a("div",[a("p",[e._v("You have not uploaded any media.")])])],1)},Ie=[],Re=(a("4de4"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"media-item"}},[a("div",{staticClass:"actions has-text-right"},[a("span",{staticClass:"icon action",on:{click:function(t){return e.deleteMedia(e.media._id)}}},[a("i",{staticClass:"fas fa-trash"})])]),a("figure",[a("img",{attrs:{src:e.imageUrl}})]),a("br"),a("div",{staticClass:"has-text-centered"},[a("div",{staticClass:"date"},[a("p",[e._v("Added on:")]),e._v(e._s(e.formattedDate))])]),a("div",{staticClass:"has-text-centered tag-container"},[a("p",[e._v("Tags:")]),a("div",{staticClass:"tag-list"},e._l(e.tags,(function(t){return a("Tag",{key:e.tagKey(t),attrs:{tagname:t}})})),1)])])}),Me=[],De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isTime?a("div",{staticClass:"tag is-link media-tag"},[a("div",{staticClass:"tag-name"}),e._v(" "+e._s(e.setName))]):e.isPlace?a("div",{staticClass:"tag is-danger media-tag"},[a("div",{staticClass:"tag-name"}),e._v(" "+e._s(e.setName))]):e.isPerson?a("div",{staticClass:"tag is-warning media-tag"},[a("div",{staticClass:"tag-name"}),e._v(" "+e._s(e.setName))]):a("div",{staticClass:"tag is-primary media-tag"},[a("div",{staticClass:"tag-name"}),e._v(" "+e._s(e.setName))])},Ee=[],$e=(a("caad"),a("2532"),{props:["tagname"],name:"Tag",computed:{setName:function(){return this.tagname.includes("/")?this.tagname.split("/")[1]:this.tagname.includes("@")?this.tagname.split("@")[1]:this.tagname},isTime:function(){return this.tagname.includes("t/")||this.tagname.includes("time/")},isPlace:function(){return this.tagname.includes("p/")||this.tagname.includes("place/")},isPerson:function(){return this.tagname.includes("@")}}}),Ue=$e,Ae=(a("908b"),Object(te["a"])(Ue,De,Ee,!1,null,"7d53deb4",null)),Se=Ae.exports,Xe={props:["media"],name:"MediaItem",components:{Tag:Se},computed:{imageUrl:function(){return"".concat(B.URL,"/media/").concat(this.media._id,"?token=").concat(this.$store.getters.getToken)},formattedDate:function(){var e={weekday:"long",year:"numeric",month:"short",day:"numeric"},t=new Date(this.media.createdAt);return t.toLocaleDateString(e)},tags:function(){return this.media.emotions}},methods:{deleteMedia:function(e){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,B.deleteMedia(e,t.$store.getters.getToken);case 3:a.next=9;break;case 5:return a.prev=5,a.t0=a["catch"](0),Q.setNotification("danger","Could not delete media"),a.abrupt("return");case 9:t.$store.commit("removeMedia",e);case 10:case"end":return a.stop()}}),a,null,[[0,5]])})))()},tagKey:function(e){return"".concat(this.media._id,"-").concat(e)}}},ze=Xe,Je=(a("7f00"),Object(te["a"])(ze,Re,Me,!1,null,"fa9274a0",null)),Le=Je.exports,Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"upload-media"}},[a("h2",{staticClass:"is-size-4"},[e._v("Upload Media")]),a("div",{staticClass:"hide-buttons"},[e.isHidden?a("button",{staticClass:"button",on:{click:e.submit}},[e._v("Add Media")]):a("button",{staticClass:"button",on:{click:e.submit}},[e._v("Close")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isHidden,expression:"!isHidden"}]},[a("div",{staticClass:"file is-boxed file-upload"},[a("label",{staticClass:"file-label"},[a("input",{staticClass:"file-input",attrs:{type:"file",name:"file"},on:{change:e.handleFileChange}}),e._m(0),a("span",{staticClass:"file-name"},[e._v(e._s(e.filename))])])]),a("div",{staticClass:"control image-tag-selection"},[a("p",[e._v("Is your content from the:")]),a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.ltag,expression:"ltag"}],attrs:{type:"radio",name:"mtag",value:"present"},domProps:{checked:e._q(e.ltag,"present")},on:{change:function(t){e.ltag="present"}}}),e._v(" Present")]),a("br"),a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.ltag,expression:"ltag"}],attrs:{type:"radio",name:"mtag",value:"past"},domProps:{checked:e._q(e.ltag,"past")},on:{change:function(t){e.ltag="past"}}}),e._v(" Past")])]),a("div",{staticClass:"emotions"},[a("p",[e._v("Please best describe this content using tags.")]),e._m(1),a("div",[a("multiselect",{attrs:{"tag-placeholder":"Add this as new tag",placeholder:"Search or add a tag",label:"name","track-by":"name",options:e.options,multiple:!0,taggable:!0},on:{tag:e.addTag,"search-change":e.getSuggestedTags,update:e.asyncUpdate},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),a("p")]),a("br"),a("div"),a("button",{staticClass:"button upload-button is-primary",class:{"is-loading":e.isBusy},attrs:{disabled:null===e.file||void 0===e.file},on:{click:e.uploadFile}},[e._v("Upload")])])])},He=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"file-cta"},[a("span",{staticClass:"file-icon"},[a("i",{staticClass:"fas fa-upload"})]),a("span",{staticClass:"file-label has-text-centered"},[e._v("Choose a file")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("There are 3 types of tags:")]),a("ul",{staticClass:"tagtypes"},[a("li",[e._v("@ - People")]),a("li",[e._v("t/ - Time")]),a("li",[e._v("p/ - Place")])]),a("p",[e._v("To use them insert the following characters at the start of the tag:")]),a("p",[e._v("Example: t/now")])])}],Pe=(a("fb6a"),a("8e5f")),Ge=a.n(Pe),Ye=a("be19"),Ke={components:{Multiselect:Ge.a},name:"UploadMedia",props:["selectedMedia"],data:function(){return{file:null,era:"past",ltag:"present",isBusy:!1,isHidden:!0,emotions:Ye,lcontent:"file",value:[],options:[],linkedMedia:[]}},methods:{submit:function(){this.isHidden=!this.isHidden},addTag:function(e){this.value.push({name:e})},uploadFile:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.ltag){t.next=3;break}return Q.setNotification("warning","You must select whether media is permanent or temporary"),t.abrupt("return");case 3:return e.isBusy=!0,t.prev=4,a=[],e.value.forEach((function(e){a.push(e.name)})),t.next=9,B.uploadMedia(e.file,{era:e.era,locket:e.ltag,emotions:a,links:e.linkedMedia},e.$store.getters.getToken);case 9:n=t.sent,e.file=null,e.$store.commit("addMedia",n),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](4),Q.setNotification("danger","Something went wrong"),e.file=null;case 18:return t.prev=18,e.isBusy=!1,e.options=[],e.value=[],t.finish(18);case 23:case"end":return t.stop()}}),t,null,[[4,14,18,23]])})))()},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},handleFileChange:function(e){this.file=e.target.files[0]},getSuggestedTags:function(e){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function a(){var n,s,i,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(0!==e.length){a.next=4;break}t.options=[],a.next=10;break;case 4:return a.next=6,B.getTagSuggestion(t.$store.getters.getToken,e);case 6:for(n=a.sent,s=[],i=0;i<n.length;i+=1)r="",o=n[i].name,e.includes("t/")?(r="t/",o=n[i].value):e.includes("p/")?r="p/":e.includes("@")&&(r="@"),s.push({name:"".concat(r).concat(o)});t.options=s;case 10:case"end":return a.stop()}}),a)})))()},asyncUpdate:function(e){this.options=e}},computed:{filename:function(){return null===this.file||void 0===this.file?"Your media":this.file.name}}},Fe=Ke,qe=(a("d429"),Object(te["a"])(Fe,Ve,He,!1,null,"3d15a588",null)),Ze=qe.exports,Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tag is-primary media-tag"},[a("div",{staticClass:"tag-name"}),e._v(" "+e._s(e.setName))])},Qe=[],We={props:["tagname"],name:"TagGeneral",computed:{setName:function(){return this.tagname}}},et=We,tt=(a("2ecc"),Object(te["a"])(et,Be,Qe,!1,null,"55ee589e",null)),at=tt.exports,nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tag is-danger media-tag"},[a("div",{staticClass:"tag-name"}),e._v(" "+e._s(e.setName))])},st=[],it={props:["tagname"],name:"TagPeople",computed:{setName:function(){return this.tagname}}},rt=it,ot=(a("dad6"),Object(te["a"])(rt,nt,st,!1,null,"bdd5bde4",null)),ct=ot.exports,ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tag is-warning media-tag"},[a("div",{staticClass:"tag-name"}),e._v(" "+e._s(e.setName))])},lt=[],dt={props:["tagname"],name:"TagPlace",computed:{setName:function(){return this.tagname}}},mt=dt,pt=(a("1270"),Object(te["a"])(mt,ut,lt,!1,null,"e878eece",null)),ht=pt.exports,ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tag is-link media-tag"},[a("div",{staticClass:"tag-name"}),e._v(" "+e._s(e.setName))])},gt=[],vt={props:["tagname"],name:"TagTime",computed:{setName:function(){return this.tagname}}},bt=vt,_t=(a("c974"),Object(te["a"])(bt,ft,gt,!1,null,"54484d4a",null)),wt=_t.exports,kt={name:"Media",components:{UploadMedia:Ze,MediaItem:Le,Notification:pe,TagGeneral:at,TagPeople:ct,TagPlace:ht,TagTime:wt},data:function(){return{showTags:!1}},methods:{submit:function(){this.showTags=!this.showTags}},computed:{presentMedia:function(){return this.$store.getters.getMedia.filter((function(e){return"present"===e.locket}))},pastMedia:function(){return this.$store.getters.getMedia.filter((function(e){return"past"===e.locket}))},tags:function(){return this.$store.getters.getTags},timeTags:function(){return this.$store.getters.getTimeTags},placeTags:function(){return this.$store.getters.getPlacesTags},peopleTags:function(){return this.$store.getters.getPeopleTags}}},xt=kt,Ct=(a("478f"),Object(te["a"])(xt,Oe,Ie,!1,null,"cacc618e",null)),yt=Ct.exports,Tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"nav-tabs"}},[a("div",{staticClass:"tabs is-centered is-medium"},[a("ul",[a("li",{class:{"is-active":e.active.images},attrs:{id:"images"},on:{click:function(t){return e.setActive("media")}}},[e._m(0)]),a("li",{class:{"is-active":e.active.devices},attrs:{id:"devices"},on:{click:function(t){return e.setActive("devices")}}},[e._m(1)])])])])},jt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-image",attrs:{"aria-hidden":"true"}})]),a("span",[e._v("Media")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"far fa-circle",attrs:{"aria-hidden":"true"}})]),a("span",[e._v("Devices")])])}],Nt={name:"NavTabs",data:function(){return{active:{images:!0,devices:!1}}},methods:{setActive:function(e){var t=this,a=!1;switch(Object.keys(this.active).forEach((function(e){t.active[e]=!1})),e){case"media":this.active.images=!0;break;case"devices":this.active.devices=!0;break;default:this.active.images=!0,a=!0;break}a||this.$emit("on-update",e)}}},Ot=Nt,It=(a("c516"),Object(te["a"])(Ot,Tt,jt,!1,null,"2691cb38",null)),Rt=It.exports,Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"devices"}},[a("h1",{staticClass:"is-size-3"},[e._v("Your Devices")]),a("h1",{staticClass:"is-size-4"},[e._v("Register Device")]),a("p",[e._v("Add a device to display media on below. Add the device's MAC address to the text field.")]),a("div",[a("InputBar",{staticClass:"input-bar",attrs:{iconGroup:"fas",icon:"fa-plus",placeholder:"Device code"},on:{"on-submit":e.addDevice}})],1),a("h1",{staticClass:"is-size-4"},[e._v("All Devices")]),a("p",[e._v("These are all your registered devices. To remove a device press the delete button.")]),a("div",{staticClass:"all-devices"},[a("ul",{staticClass:"list"},e._l(e.getDevices,(function(t){return a("li",{staticClass:"list-item"},[e._v(e._s(t.mac)),a("a",{staticClass:"delete has-text-right",on:{click:function(a){return e.deleteDevice(t._id)}}})])})),0)])])},Dt=[],Et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"input-bar"}},[a("div",{staticClass:"field has-addons"},[a("div",{staticClass:"control text-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"input",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.value},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)},input:function(t){t.target.composing||(e.value=t.target.value)}}})]),a("div",{staticClass:"control"},[a("a",{staticClass:"button is-info is-outlined",attrs:{id:"submit-todo",disabled:e.value.length<1},on:{click:e.onSubmit}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-plus",class:[e.iconGroup,e.icon]})])])])])])},$t=[],Ut={name:"InputBar",props:["iconGroup","icon","placeholder"],methods:{onSubmit:function(){this.$emit("on-submit",this.value),this.value=""}},data:function(){return{value:""}}},At=Ut,St=Object(te["a"])(At,Et,$t,!1,null,"88090752",null),Xt=St.exports,zt={name:"Devices",components:{Notification:pe,InputBar:Xt},data:function(){return{deviceId:""}},methods:{deleteDevice:function(e){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,B.deleteDevice(e,t.$store.getters.getToken);case 3:t.$store.commit("removeDevice",e),a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](0),Q.setNotification("danger","Device could not be deleted");case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))()},addDevice:function(e){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function a(){var n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.$store.getters.getDevices.findIndex((function(t){return t.mac===e}))>-1,!n){a.next=4;break}return Q.setNotification("warning","Device already exists"),a.abrupt("return");case 4:return a.prev=4,a.next=7,B.addDevice(e,t.$store.getters.getToken);case 7:s=a.sent,t.$store.commit("addDevice",s),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](4),Q.setNotification("danger","Device could not be added");case 14:case"end":return a.stop()}}),a,null,[[4,11]])})))()}},computed:{getDevices:function(){return this.$store.getters.getDevices}}},Jt=zt,Lt=(a("1325"),Object(te["a"])(Jt,Mt,Dt,!1,null,"40264edb",null)),Vt=Lt.exports,Ht=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Pt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"footer has-text-centered",attrs:{id:"footer"}},[a("div",{staticClass:"container"},[a("h6",{staticClass:"is-size-4"},[e._v("Ongoingness")]),a("p",[e._v("Ongoingness by "),a("a",{attrs:{href:"https://openlab.ncl.ac.uk/"}},[e._v("Open Lab, Newcastle University")]),e._v(", and "),a("a",{attrs:{href:"https://www.northumbria.ac.uk"}},[e._v("Northumbria University")]),e._v(".")]),a("p",[e._v("The software is licensed under "),a("a",{attrs:{href:"https://opensource.org/licenses/BSD-3-Clause"}},[e._v("BSD-3")]),e._v(". Checkout the "),a("a",{attrs:{href:"https://github.com/digitalinteraction"}},[e._v("source code")]),e._v(" on Github."),a("br"),e._v("If you have any questions about your data or wish for it to be removed, then please send an email to "),a("a",{attrs:{href:"mailto:openlab-admin@ncl.ac.uk"}},[e._v("Open Lab.")])])])])}],Gt={name:"FooterBar"},Yt=Gt,Kt=(a("d91a"),Object(te["a"])(Yt,Ht,Pt,!1,null,"84feb5bc",null)),Ft=Kt.exports,qt={name:"app",components:{FooterBar:Ft,Notification:pe,Devices:Vt,NavTabs:Rt,Media:yt,AuthForm:Ne,Title:ne},data:function(){return{active:{media:!0,devices:!1}}},computed:{isLoggedIn:function(){return this.$store.getters.getToken}},methods:{tabUpdate:function(e){var t=this;Object.keys(this.active).forEach((function(e){t.active[e]=!1})),this.active[e]=!0}},mounted:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var a,n,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=P.get("authToken"),!a){t.next=22;break}return e.$store.commit("updateToken",a),t.prev=3,t.next=6,B.getAllMedia(e.$store.getters.getToken);case 6:return n=t.sent,e.$store.commit("updateMedia",n),t.next=10,B.getDevices(e.$store.getters.getToken);case 10:return s=t.sent,e.$store.commit("updateDevices",s),t.next=14,B.getAllTags(e.$store.getters.getToken);case 14:i=t.sent,e.$store.commit("addTags",i),t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](3),console.log(t.t0),Q.setNotification("danger","Something went wrong");case 22:case"end":return t.stop()}}),t,null,[[3,18]])})))()}},Zt=qt,Bt=(a("052f"),Object(te["a"])(Zt,S,X,!1,null,null,null)),Qt=Bt.exports;n["a"].use(s["a"]),n["a"].config.productionTip=!1,new n["a"]({store:A,render:function(e){return e(Qt)}}).$mount("#app")},"70b7":function(e,t,a){},"7f00":function(e,t,a){"use strict";var n=a("3eb0"),s=a.n(n);s.a},"908b":function(e,t,a){"use strict";var n=a("2519"),s=a.n(n);s.a},9621:function(e,t,a){},"982d":function(e,t,a){},af3f:function(e,t,a){},bbaf:function(e,t,a){},be19:function(e){e.exports=JSON.parse('[{"name":"anger","children":[{"name":"rage","children":[{"name":"hate"},{"name":"hostile"}]},{"name":"exasperated","children":[{"name":"agitated"},{"name":"frustrated"}]},{"name":"irritable","children":[{"name":"annoyed"},{"name":"aggravated"}]},{"name":"envy","children":[{"name":"resentful"},{"name":"jealous"}]},{"name":"disgust","children":[{"name":"contempt"},{"name":"revolted"}]}]},{"name":"sadness","children":[{"name":"suffering","children":[{"name":"agony"},{"name":"hurt"}]},{"name":"sadness","children":[{"name":"depressed"},{"name":"sorrow"}]},{"name":"disappointed","children":[{"name":"dismayed"},{"name":"displeased"}]},{"name":"shameful","children":[{"name":"regretful"},{"name":"guilty"}]},{"name":"neglected","children":[{"name":"isolated"},{"name":"lonely"}]},{"name":"despair","children":[{"name":"grief"},{"name":"powerless"}]}]},{"name":"surprise","children":[{"name":"stunned","children":[{"name":"shocked"},{"name":"dismayed"}]},{"name":"confused","children":[{"name":"disillusioned"},{"name":"perplexed"}]},{"name":"amazed","children":[{"name":"astonished"},{"name":"awe-struck"}]},{"name":"overcome","children":[{"name":"speechless"},{"name":"astounded"}]},{"name":"moved","children":[{"name":"stimulated"},{"name":"touched"}]}]},{"name":"joy","children":[{"name":"content","children":[{"name":"pleased"},{"name":"satisfied"}]},{"name":"happy","children":[{"name":"amused"},{"name":"delighted"}]},{"name":"cheerful","children":[{"name":"jovial"},{"name":"blissful"}]},{"name":"proud","children":[{"name":"triumphant"},{"name":"illustrious"}]},{"name":"optimistic","children":[{"name":"eager"},{"name":"hopeful"}]},{"name":"enthusiastic","children":[{"name":"zeal"},{"name":"excited"}]},{"name":"elation","children":[{"name":"jubilation"},{"name":"euphoric"}]},{"name":"enthralled","children":[{"name":"rapture"},{"name":"enchanted"}]}]},{"name":"love","children":[{"name":"affectionate","children":[{"name":"fondness"},{"name":"romantic"}]},{"name":"longing","children":[{"name":"attracted"},{"name":"sentimental"}]},{"name":"desire","children":[{"name":"infatuation"},{"name":"passion"}]},{"name":"tenderness","children":[{"name":"compassionate"},{"name":"caring"}]},{"name":"peaceful","children":[{"name":"satisfied"},{"name":"relieved"}]}]},{"name":"fear","children":[{"name":"scared","children":[{"name":"helpless"},{"name":"frightened"}]},{"name":"terror","children":[{"name":"panic"},{"name":"hysterical"}]},{"name":"insecure","children":[{"name":"inferior"},{"name":"inadequate"}]},{"name":"nervous","children":[{"name":"worried"},{"name":"anxious"}]},{"name":"horror","children":[{"name":"dread"},{"name":"mortified"}]}]}]')},c516:function(e,t,a){"use strict";var n=a("2d56"),s=a.n(n);s.a},c974:function(e,t,a){"use strict";var n=a("dbe6"),s=a.n(n);s.a},d429:function(e,t,a){"use strict";var n=a("2b02"),s=a.n(n);s.a},d678:function(e,t,a){"use strict";var n=a("70b7"),s=a.n(n);s.a},d8d9:function(e,t,a){},d91a:function(e,t,a){"use strict";var n=a("07b7"),s=a.n(n);s.a},dad6:function(e,t,a){"use strict";var n=a("fe84"),s=a.n(n);s.a},dbe6:function(e,t,a){},dc16:function(e,t,a){"use strict";var n=a("af3f"),s=a.n(n);s.a},e325:function(e,t,a){},e3ba:function(e,t,a){},e598:function(e,t,a){},fe84:function(e,t,a){}});
//# sourceMappingURL=refind.b9a82371.js.map